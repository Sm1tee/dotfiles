/*!
 * Copyright (c) SquareX
 */
import{r as s,c as o,h as i,H as t}from"./p-c7a90ecb.js";const r=s=>new Promise((o=>setTimeout(o,s)));function e(s){!s.classList.contains("hide")&&s.classList.contains("show")||(s.classList.remove("hide"),s.classList.add("show"))}async function a(s,o){null==s||s.classList.add("hide"),null==s||s.classList.remove("show"),await r(o),null==s||s.classList.remove("hide")}const n=class{constructor(i){s(this,i),this.ready=o(this,"ready",7),this.componentDidLoad=async()=>{this.ready.emit(),this.done&&(await r(1e3),this.unmountComponent())},this.handleClose=async s=>{this.messages=this.messages.filter((({id:o})=>o!==s)),0===this.messages.length&&this.unmountComponent()},this.handleCloseAll=()=>{this.messages=[],this.unmountComponent()},this.unmountComponent=async()=>{this.elemRef&&a(this.elemRef,300)},this.isDarkMode=!1,this.elemtitle="",this.done=!1,this.messages=[]}closeOneEventListener(s){this.handleClose(s.detail.id)}addOneEventListener(s){var o,i;const{message:t,id:r}=null!==(o=s.detail)&&void 0!==o?o:{};if(!this.elemRef||null==t||null==r)return;let a="message";"error"!==s.detail.type&&"message"!==s.detail.type||(a=s.detail.type);const n=null===(i=s.detail.showSpinner)||void 0===i||i,c=s.detail.showCloseButton;e(this.elemRef),this.messages=-1!==this.messages.findIndex((s=>s.id===r))?this.messages.map((s=>s.id!==r?s:{id:s.id,type:a,message:t,showSpinner:n,showCloseButton:c})):this.messages.concat([{id:r,message:t,type:a,showSpinner:n,showCloseButton:c}])}render(){var s,o;const r=(null!==(o=null===(s=this.elemRef)||void 0===s?void 0:s.scrollHeight)&&void 0!==o?o:0)>500;return i(t,{key:"e641308882ff4036346e2e6d77c8cb97156c23a0"},i("div",{key:"cac5d46d46795e2585f52a4d9c12d062437e1212",class:"sqrx-notification-bar "+(this.isDarkMode?"dark":""),ref:s=>{this.elemRef=s}},this.messages.length>0&&i("div",{key:"92f86ffcd8324116cfbbda5b4941196b9d894770",class:"snb-heading"},i("div",{key:"a2bb4ad8045691cbdd92cdaed2e3695b6e7dec34",class:"snb-title"},this.elemtitle),i("div",{key:"7f0bbdaa9be5655c0f6a20be5c3b4513d19f30b4",class:"snb-close",onClick:this.handleCloseAll},"✕")),i("div",{key:"4178a8014e7a3f233211bbc213f958c5639f2171",class:"snb-content",style:{"--overflowY":r?"scroll":"hidden"}},this.messages.map((({message:s,id:o,type:t,showSpinner:r,showCloseButton:e})=>i("sqrx-notification-bar-message",{key:o,isDarkMode:this.isDarkMode,messageId:o,message:s,type:t,showCloseButton:null!=e?e:this.messages.length>1,showSpinner:r}))))))}};n.style=':host{visibility:hidden}:host(.hydrated){visibility:inherit}:host .sqrx-notification-bar{--heading-color:#fff;--heading-bg-color:#5c52c1;--z-index:100000;color-scheme:light}:host .sqrx-notification-bar.dark{--heading-color:rgb(171, 164, 247);--heading-bg-color:rgb(31, 34, 51);color-scheme:dark}:host .sqrx-notification-bar{opacity:0;position:fixed;right:20px;bottom:20px;padding:0px;width:450px;background-color:transparent;font-family:"Open Sans", sans-serif;z-index:var(--z-index);border-radius:4px;border:1px solid rgb(115, 103, 240);transform-origin:left;transform:translateX(-80px) scale(0, 1);transition:all 0.3s ease-in-out}:host .sqrx-notification-bar.show{transform:translateX(0) scale(1, 1);bottom:20px;opacity:1}:host .sqrx-notification-bar.hide{right:20px;bottom:120px;opacity:0;transform:translateY(-100px) scale(1, 1)}:host .sqrx-notification-bar .snb-heading{border-top-left-radius:2px;border-top-right-radius:2px;color:var(--heading-color);background-color:var(--heading-bg-color);margin:0;padding:15px 0px;position:relative}:host .sqrx-notification-bar .snb-heading .snb-title{font-size:16px;font-weight:400;margin-left:20px;text-transform:capitalize}:host .sqrx-notification-bar .snb-heading .snb-close{position:absolute;right:20px;top:0px;height:100%;display:flex;align-items:center;color:#fff;cursor:pointer;font-size:18px}:host .sqrx-notification-bar .snb-content{--overflowY:hidden;max-height:480px;overflow-y:var(--overflowY)}';const c=class{constructor(i){s(this,i),this.closeOneEvent=o(this,"closeOneEvent",7),this.closeEventHandler=async s=>{s.stopPropagation(),s.preventDefault(),this.refElem&&(await a(this.refElem,100),this.closeOneEvent.emit({id:this.messageId}))},this.isDarkMode=void 0,this.messageId=void 0,this.message=void 0,this.type=void 0,this.showSpinner=void 0,this.showCloseButton=!1}componentDidLoad(){this.refElem&&e(this.refElem)}render(){const{messageId:s,type:o,message:t,showCloseButton:r,showSpinner:e}=this;return i("div",{key:"2bfd33ed34c8471c5b095d36f0b6481519d16959",class:`sqrx-notification-bar-message ${o} ${this.isDarkMode?"dark":""}`,id:s,ref:s=>{this.refElem=s}},i("p",{key:"5f6478fed07944fb8f699f196a93f4ca28f202d1",class:"snbm-message"},t),"error"!==o&&e&&i("span",{key:"4fc4ea29bcbec1b1ab1b89887a0240ebe01e7b87",class:"snbm-loader-spinner"}),r&&i("span",{key:"dc8d53d25fb1352cb7cdb09cbf3c0352becb94a3",class:"snbm-close",onClick:this.closeEventHandler},"✕"))}};c.style=":host .sqrx-notification-bar-message{--color:#747282;--bg-color:#fff;--error-msg-color:rgb(155, 28, 28);--loader-spinner-color:rgb(115, 103, 240);--loader-spinner-bg-color:#eaf0f6;--close-btn-color:var(--color);--border-radius:0}:host .sqrx-notification-bar-message.dark{--color:rgb(203, 204, 206);--bg-color:rgb(47, 51, 73);--loader-spinner-bg-color:#4b4b51;--close-btn-color:rgb(171, 164, 247);--border-radius:0}:host .sqrx-notification-bar-message{color:var(--color);background-color:var(--bg-color);display:flex;align-items:center;font-size:16px;letter-spacing:normal;padding:0 20px;transform:translateX(-100px);transition:all 0.3s ease-in-out}:host .sqrx-notification-bar-message:last-child{border-bottom-left-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius)}:host .sqrx-notification-bar-message.show{opacity:1;transform:translateX(0)}:host .sqrx-notification-bar-message.done{opacity:0;transform:translateX(100px)}:host .sqrx-notification-bar-message.error .snbm-message{color:var(--error-msg-color)}:host .sqrx-notification-bar-message .snbm-message{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}:host .sqrx-notification-bar-message .snbm-close{color:var(--close-btn-color);flex:0 30px;cursor:pointer;font-size:18px;text-align:right}:host .sqrx-notification-bar-message .snbm-loader-spinner{width:20px;height:20px;margin-right:20px;border-radius:50%;border:3px solid var(--loader-spinner-bg-color);border-top:4px solid var(--loader-spinner-color);animation:spinner 2s linear infinite}@keyframes spinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";export{n as sqrx_notification_bar,c as sqrx_notification_bar_message}