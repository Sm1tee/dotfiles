"use strict";(()=>{var Ao=Object.create;var Xt=Object.defineProperty;var ko=Object.getOwnPropertyDescriptor;var Ro=Object.getOwnPropertyNames;var Co=Object.getPrototypeOf,Io=Object.prototype.hasOwnProperty;var Lo=(r,t,e)=>t in r?Xt(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Te=(r,t)=>()=>(r&&(t=r(r=0)),t);var vo=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports);var Oo=(r,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ro(t))!Io.call(r,s)&&s!==e&&Xt(r,s,{get:()=>t[s],enumerable:!(o=ko(t,s))||o.enumerable});return r};var Fo=(r,t,e)=>(e=r!=null?Ao(Co(r)):{},Oo(t||!r||!r.__esModule?Xt(e,"default",{value:r,enumerable:!0}):e,r));var at=(r,t,e)=>(Lo(r,typeof t!="symbol"?t+"":t,e),e);var l=Te(()=>{});var c=Te(()=>{});var R,u=Te(()=>{R=[]});var m=Te(()=>{});var p=Te(()=>{});var f=Te(()=>{});var g=Te(()=>{});var d=Te(()=>{});var h=Te(()=>{});var T=Te(()=>{});var y=Te(()=>{});var E=Te(()=>{});var x=Te(()=>{});var b=Te(()=>{});var _=Te(()=>{});var Ln=vo((tr,rr)=>{l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();(function(r,t){typeof tr=="object"&&typeof rr<"u"?rr.exports=t():typeof define=="function"&&define.amd?define(t):(r=typeof globalThis<"u"?globalThis:r||self,r.DOMPurify=t())})(tr,function(){"use strict";let{entries:r,setPrototypeOf:t,isFrozen:e,getPrototypeOf:o,getOwnPropertyDescriptor:s}=Object,{freeze:a,seal:w,create:Q}=Object,{apply:Y,construct:ce}=typeof Reflect<"u"&&Reflect;a||(a=function(A){return A}),w||(w=function(A){return A}),Y||(Y=function(A,K,q){return A.apply(K,q)}),ce||(ce=function(A,K){return new A(...K)});let _e=be(Array.prototype.forEach),X=be(Array.prototype.pop),ue=be(Array.prototype.push),se=be(String.prototype.toLowerCase),It=be(String.prototype.toString),or=be(String.prototype.match),Ye=be(String.prototype.replace),Un=be(String.prototype.indexOf),$n=be(String.prototype.trim),Se=be(Object.prototype.hasOwnProperty),ge=be(RegExp.prototype.test),Xe=jn(TypeError);function be(W){return function(A){for(var K=arguments.length,q=new Array(K>1?K-1:0),pe=1;pe<K;pe++)q[pe-1]=arguments[pe];return Y(W,A,q)}}function jn(W){return function(){for(var A=arguments.length,K=new Array(A),q=0;q<A;q++)K[q]=arguments[q];return ce(W,K)}}function z(W,A){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:se;t&&t(W,null);let q=A.length;for(;q--;){let pe=A[q];if(typeof pe=="string"){let Re=K(pe);Re!==pe&&(e(A)||(A[q]=Re),pe=Re)}W[pe]=!0}return W}function Vn(W){for(let A=0;A<W.length;A++)Se(W,A)||(W[A]=null);return W}function De(W){let A=Q(null);for(let[K,q]of r(W))Se(W,K)&&(Array.isArray(q)?A[K]=Vn(q):q&&typeof q=="object"&&q.constructor===Object?A[K]=De(q):A[K]=q);return A}function Je(W,A){for(;W!==null;){let q=s(W,A);if(q){if(q.get)return be(q.get);if(typeof q.value=="function")return be(q.value)}W=o(W)}function K(){return null}return K}let sr=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Lt=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),vt=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),zn=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ot=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Hn=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ar=a(["#text"]),ir=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Ft=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),lr=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ut=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qn=w(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Wn=w(/<%[\w\W]*|[\w\W]*%>/gm),Gn=w(/\${[\w\W]*}/gm),Kn=w(/^data-[\-\w.\u00B7-\uFFFF]/),Yn=w(/^aria-[\-\w]+$/),cr=w(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Xn=w(/^(?:\w+script|data):/i),Jn=w(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ur=w(/^html$/i),Zn=w(/^[a-z][.\w]*(-[.\w]+)+$/i);var mr=Object.freeze({__proto__:null,MUSTACHE_EXPR:qn,ERB_EXPR:Wn,TMPLIT_EXPR:Gn,DATA_ATTR:Kn,ARIA_ATTR:Yn,IS_ALLOWED_URI:cr,IS_SCRIPT_OR_DATA:Xn,ATTR_WHITESPACE:Jn,DOCTYPE_NAME:ur,CUSTOM_ELEMENT:Zn});let Ze={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Qn=function(){return typeof window>"u"?null:window},eo=function(A,K){if(typeof A!="object"||typeof A.createPolicy!="function")return null;let q=null,pe="data-tt-policy-suffix";K&&K.hasAttribute(pe)&&(q=K.getAttribute(pe));let Re="dompurify"+(q?"#"+q:"");try{return A.createPolicy(Re,{createHTML(je){return je},createScriptURL(je){return je}})}catch{return console.warn("TrustedTypes policy "+Re+" could not be created."),null}};function pr(){let W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Qn(),A=k=>pr(k);if(A.version="3.1.6",A.removed=[],!W||!W.document||W.document.nodeType!==Ze.document)return A.isSupported=!1,A;let{document:K}=W,q=K,pe=q.currentScript,{DocumentFragment:Re,HTMLTemplateElement:je,Node:Nt,Element:fr,NodeFilter:Qe,NamedNodeMap:ro=W.NamedNodeMap||W.MozNamedAttrMap,HTMLFormElement:no,DOMParser:oo,trustedTypes:mt}=W,et=fr.prototype,so=Je(et,"cloneNode"),ao=Je(et,"remove"),io=Je(et,"nextSibling"),lo=Je(et,"childNodes"),pt=Je(et,"parentNode");if(typeof je=="function"){let k=K.createElement("template");k.content&&k.content.ownerDocument&&(K=k.content.ownerDocument)}let de,tt="",{implementation:Dt,createNodeIterator:co,createDocumentFragment:uo,getElementsByTagName:mo}=K,{importNode:po}=q,Me={};A.isSupported=typeof r=="function"&&typeof pt=="function"&&Dt&&Dt.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:Pt,ERB_EXPR:Bt,TMPLIT_EXPR:Ut,DATA_ATTR:fo,ARIA_ATTR:go,IS_SCRIPT_OR_DATA:ho,ATTR_WHITESPACE:gr,CUSTOM_ELEMENT:To}=mr,{IS_ALLOWED_URI:dr}=mr,ae=null,hr=z({},[...sr,...Lt,...vt,...Ot,...ar]),ie=null,Tr=z({},[...ir,...Ft,...lr,...ut]),oe=Object.seal(Q(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),rt=null,$t=null,yr=!0,jt=!0,Er=!1,xr=!0,Ve=!1,Vt=!0,Pe=!1,zt=!1,Ht=!1,ze=!1,ft=!1,gt=!1,br=!0,_r=!1,yo="user-content-",qt=!0,nt=!1,He={},qe=null,Sr=z({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),wr=null,Mr=z({},["audio","video","img","source","image","track"]),Wt=null,Ar=z({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",ht="http://www.w3.org/2000/svg",Ce="http://www.w3.org/1999/xhtml",We=Ce,Gt=!1,Kt=null,Eo=z({},[dt,ht,Ce],It),ot=null,xo=["application/xhtml+xml","text/html"],bo="text/html",le=null,Ge=null,_o=K.createElement("form"),kr=function(n){return n instanceof RegExp||n instanceof Function},Yt=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ge&&Ge===n)){if((!n||typeof n!="object")&&(n={}),n=De(n),ot=xo.indexOf(n.PARSER_MEDIA_TYPE)===-1?bo:n.PARSER_MEDIA_TYPE,le=ot==="application/xhtml+xml"?It:se,ae=Se(n,"ALLOWED_TAGS")?z({},n.ALLOWED_TAGS,le):hr,ie=Se(n,"ALLOWED_ATTR")?z({},n.ALLOWED_ATTR,le):Tr,Kt=Se(n,"ALLOWED_NAMESPACES")?z({},n.ALLOWED_NAMESPACES,It):Eo,Wt=Se(n,"ADD_URI_SAFE_ATTR")?z(De(Ar),n.ADD_URI_SAFE_ATTR,le):Ar,wr=Se(n,"ADD_DATA_URI_TAGS")?z(De(Mr),n.ADD_DATA_URI_TAGS,le):Mr,qe=Se(n,"FORBID_CONTENTS")?z({},n.FORBID_CONTENTS,le):Sr,rt=Se(n,"FORBID_TAGS")?z({},n.FORBID_TAGS,le):{},$t=Se(n,"FORBID_ATTR")?z({},n.FORBID_ATTR,le):{},He=Se(n,"USE_PROFILES")?n.USE_PROFILES:!1,yr=n.ALLOW_ARIA_ATTR!==!1,jt=n.ALLOW_DATA_ATTR!==!1,Er=n.ALLOW_UNKNOWN_PROTOCOLS||!1,xr=n.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Ve=n.SAFE_FOR_TEMPLATES||!1,Vt=n.SAFE_FOR_XML!==!1,Pe=n.WHOLE_DOCUMENT||!1,ze=n.RETURN_DOM||!1,ft=n.RETURN_DOM_FRAGMENT||!1,gt=n.RETURN_TRUSTED_TYPE||!1,Ht=n.FORCE_BODY||!1,br=n.SANITIZE_DOM!==!1,_r=n.SANITIZE_NAMED_PROPS||!1,qt=n.KEEP_CONTENT!==!1,nt=n.IN_PLACE||!1,dr=n.ALLOWED_URI_REGEXP||cr,We=n.NAMESPACE||Ce,oe=n.CUSTOM_ELEMENT_HANDLING||{},n.CUSTOM_ELEMENT_HANDLING&&kr(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(oe.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck),n.CUSTOM_ELEMENT_HANDLING&&kr(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(oe.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(oe.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ve&&(jt=!1),ft&&(ze=!0),He&&(ae=z({},ar),ie=[],He.html===!0&&(z(ae,sr),z(ie,ir)),He.svg===!0&&(z(ae,Lt),z(ie,Ft),z(ie,ut)),He.svgFilters===!0&&(z(ae,vt),z(ie,Ft),z(ie,ut)),He.mathMl===!0&&(z(ae,Ot),z(ie,lr),z(ie,ut))),n.ADD_TAGS&&(ae===hr&&(ae=De(ae)),z(ae,n.ADD_TAGS,le)),n.ADD_ATTR&&(ie===Tr&&(ie=De(ie)),z(ie,n.ADD_ATTR,le)),n.ADD_URI_SAFE_ATTR&&z(Wt,n.ADD_URI_SAFE_ATTR,le),n.FORBID_CONTENTS&&(qe===Sr&&(qe=De(qe)),z(qe,n.FORBID_CONTENTS,le)),qt&&(ae["#text"]=!0),Pe&&z(ae,["html","head","body"]),ae.table&&(z(ae,["tbody"]),delete rt.tbody),n.TRUSTED_TYPES_POLICY){if(typeof n.TRUSTED_TYPES_POLICY.createHTML!="function")throw Xe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof n.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Xe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');de=n.TRUSTED_TYPES_POLICY,tt=de.createHTML("")}else de===void 0&&(de=eo(mt,pe)),de!==null&&typeof tt=="string"&&(tt=de.createHTML(""));a&&a(n),Ge=n}},Rr=z({},["mi","mo","mn","ms","mtext"]),Cr=z({},["foreignobject","annotation-xml"]),So=z({},["title","style","font","a","script"]),Ir=z({},[...Lt,...vt,...zn]),Lr=z({},[...Ot,...Hn]),wo=function(n){let S=pt(n);(!S||!S.tagName)&&(S={namespaceURI:We,tagName:"template"});let M=se(n.tagName),J=se(S.tagName);return Kt[n.namespaceURI]?n.namespaceURI===ht?S.namespaceURI===Ce?M==="svg":S.namespaceURI===dt?M==="svg"&&(J==="annotation-xml"||Rr[J]):!!Ir[M]:n.namespaceURI===dt?S.namespaceURI===Ce?M==="math":S.namespaceURI===ht?M==="math"&&Cr[J]:!!Lr[M]:n.namespaceURI===Ce?S.namespaceURI===ht&&!Cr[J]||S.namespaceURI===dt&&!Rr[J]?!1:!Lr[M]&&(So[M]||!Ir[M]):!!(ot==="application/xhtml+xml"&&Kt[n.namespaceURI]):!1},Ae=function(n){ue(A.removed,{element:n});try{pt(n).removeChild(n)}catch{ao(n)}},Tt=function(n,S){try{ue(A.removed,{attribute:S.getAttributeNode(n),from:S})}catch{ue(A.removed,{attribute:null,from:S})}if(S.removeAttribute(n),n==="is"&&!ie[n])if(ze||ft)try{Ae(S)}catch{}else try{S.setAttribute(n,"")}catch{}},vr=function(n){let S=null,M=null;if(Ht)n="<remove></remove>"+n;else{let me=or(n,/^[\r\n\t ]+/);M=me&&me[0]}ot==="application/xhtml+xml"&&We===Ce&&(n='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+n+"</body></html>");let J=de?de.createHTML(n):n;if(We===Ce)try{S=new oo().parseFromString(J,ot)}catch{}if(!S||!S.documentElement){S=Dt.createDocument(We,"template",null);try{S.documentElement.innerHTML=Gt?tt:J}catch{}}let fe=S.body||S.documentElement;return n&&M&&fe.insertBefore(K.createTextNode(M),fe.childNodes[0]||null),We===Ce?mo.call(S,Pe?"html":"body")[0]:Pe?S.documentElement:fe},Or=function(n){return co.call(n.ownerDocument||n,n,Qe.SHOW_ELEMENT|Qe.SHOW_COMMENT|Qe.SHOW_TEXT|Qe.SHOW_PROCESSING_INSTRUCTION|Qe.SHOW_CDATA_SECTION,null)},Fr=function(n){return n instanceof no&&(typeof n.nodeName!="string"||typeof n.textContent!="string"||typeof n.removeChild!="function"||!(n.attributes instanceof ro)||typeof n.removeAttribute!="function"||typeof n.setAttribute!="function"||typeof n.namespaceURI!="string"||typeof n.insertBefore!="function"||typeof n.hasChildNodes!="function")},Nr=function(n){return typeof Nt=="function"&&n instanceof Nt},Ie=function(n,S,M){Me[n]&&_e(Me[n],J=>{J.call(A,S,M,Ge)})},Dr=function(n){let S=null;if(Ie("beforeSanitizeElements",n,null),Fr(n))return Ae(n),!0;let M=le(n.nodeName);if(Ie("uponSanitizeElement",n,{tagName:M,allowedTags:ae}),n.hasChildNodes()&&!Nr(n.firstElementChild)&&ge(/<[/\w]/g,n.innerHTML)&&ge(/<[/\w]/g,n.textContent)||n.nodeType===Ze.progressingInstruction||Vt&&n.nodeType===Ze.comment&&ge(/<[/\w]/g,n.data))return Ae(n),!0;if(!ae[M]||rt[M]){if(!rt[M]&&Br(M)&&(oe.tagNameCheck instanceof RegExp&&ge(oe.tagNameCheck,M)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(M)))return!1;if(qt&&!qe[M]){let J=pt(n)||n.parentNode,fe=lo(n)||n.childNodes;if(fe&&J){let me=fe.length;for(let Ee=me-1;Ee>=0;--Ee){let ke=so(fe[Ee],!0);ke.__removalCount=(n.__removalCount||0)+1,J.insertBefore(ke,io(n))}}}return Ae(n),!0}return n instanceof fr&&!wo(n)||(M==="noscript"||M==="noembed"||M==="noframes")&&ge(/<\/no(script|embed|frames)/i,n.innerHTML)?(Ae(n),!0):(Ve&&n.nodeType===Ze.text&&(S=n.textContent,_e([Pt,Bt,Ut],J=>{S=Ye(S,J," ")}),n.textContent!==S&&(ue(A.removed,{element:n.cloneNode()}),n.textContent=S)),Ie("afterSanitizeElements",n,null),!1)},Pr=function(n,S,M){if(br&&(S==="id"||S==="name")&&(M in K||M in _o))return!1;if(!(jt&&!$t[S]&&ge(fo,S))){if(!(yr&&ge(go,S))){if(!ie[S]||$t[S]){if(!(Br(n)&&(oe.tagNameCheck instanceof RegExp&&ge(oe.tagNameCheck,n)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(n))&&(oe.attributeNameCheck instanceof RegExp&&ge(oe.attributeNameCheck,S)||oe.attributeNameCheck instanceof Function&&oe.attributeNameCheck(S))||S==="is"&&oe.allowCustomizedBuiltInElements&&(oe.tagNameCheck instanceof RegExp&&ge(oe.tagNameCheck,M)||oe.tagNameCheck instanceof Function&&oe.tagNameCheck(M))))return!1}else if(!Wt[S]){if(!ge(dr,Ye(M,gr,""))){if(!((S==="src"||S==="xlink:href"||S==="href")&&n!=="script"&&Un(M,"data:")===0&&wr[n])){if(!(Er&&!ge(ho,Ye(M,gr,"")))){if(M)return!1}}}}}}return!0},Br=function(n){return n!=="annotation-xml"&&or(n,To)},Ur=function(n){Ie("beforeSanitizeAttributes",n,null);let{attributes:S}=n;if(!S)return;let M={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ie},J=S.length;for(;J--;){let fe=S[J],{name:me,namespaceURI:Ee,value:ke}=fe,st=le(me),he=me==="value"?ke:$n(ke);if(M.attrName=st,M.attrValue=he,M.keepAttr=!0,M.forceKeepAttr=void 0,Ie("uponSanitizeAttribute",n,M),he=M.attrValue,Vt&&ge(/((--!?|])>)|<\/(style|title)/i,he)){Tt(me,n);continue}if(M.forceKeepAttr||(Tt(me,n),!M.keepAttr))continue;if(!xr&&ge(/\/>/i,he)){Tt(me,n);continue}Ve&&_e([Pt,Bt,Ut],jr=>{he=Ye(he,jr," ")});let $r=le(n.nodeName);if(Pr($r,st,he)){if(_r&&(st==="id"||st==="name")&&(Tt(me,n),he=yo+he),de&&typeof mt=="object"&&typeof mt.getAttributeType=="function"&&!Ee)switch(mt.getAttributeType($r,st)){case"TrustedHTML":{he=de.createHTML(he);break}case"TrustedScriptURL":{he=de.createScriptURL(he);break}}try{Ee?n.setAttributeNS(Ee,me,he):n.setAttribute(me,he),Fr(n)?Ae(n):X(A.removed)}catch{}}}Ie("afterSanitizeAttributes",n,null)},Mo=function k(n){let S=null,M=Or(n);for(Ie("beforeSanitizeShadowDOM",n,null);S=M.nextNode();)Ie("uponSanitizeShadowNode",S,null),!Dr(S)&&(S.content instanceof Re&&k(S.content),Ur(S));Ie("afterSanitizeShadowDOM",n,null)};return A.sanitize=function(k){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=null,M=null,J=null,fe=null;if(Gt=!k,Gt&&(k="<!-->"),typeof k!="string"&&!Nr(k))if(typeof k.toString=="function"){if(k=k.toString(),typeof k!="string")throw Xe("dirty is not a string, aborting")}else throw Xe("toString is not a function");if(!A.isSupported)return k;if(zt||Yt(n),A.removed=[],typeof k=="string"&&(nt=!1),nt){if(k.nodeName){let ke=le(k.nodeName);if(!ae[ke]||rt[ke])throw Xe("root node is forbidden and cannot be sanitized in-place")}}else if(k instanceof Nt)S=vr("<!---->"),M=S.ownerDocument.importNode(k,!0),M.nodeType===Ze.element&&M.nodeName==="BODY"||M.nodeName==="HTML"?S=M:S.appendChild(M);else{if(!ze&&!Ve&&!Pe&&k.indexOf("<")===-1)return de&&gt?de.createHTML(k):k;if(S=vr(k),!S)return ze?null:gt?tt:""}S&&Ht&&Ae(S.firstChild);let me=Or(nt?k:S);for(;J=me.nextNode();)Dr(J)||(J.content instanceof Re&&Mo(J.content),Ur(J));if(nt)return k;if(ze){if(ft)for(fe=uo.call(S.ownerDocument);S.firstChild;)fe.appendChild(S.firstChild);else fe=S;return(ie.shadowroot||ie.shadowrootmode)&&(fe=po.call(q,fe,!0)),fe}let Ee=Pe?S.outerHTML:S.innerHTML;return Pe&&ae["!doctype"]&&S.ownerDocument&&S.ownerDocument.doctype&&S.ownerDocument.doctype.name&&ge(ur,S.ownerDocument.doctype.name)&&(Ee="<!DOCTYPE "+S.ownerDocument.doctype.name+`>
`+Ee),Ve&&_e([Pt,Bt,Ut],ke=>{Ee=Ye(Ee,ke," ")}),de&&gt?de.createHTML(Ee):Ee},A.setConfig=function(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Yt(k),zt=!0},A.clearConfig=function(){Ge=null,zt=!1},A.isValidAttribute=function(k,n,S){Ge||Yt({});let M=le(k),J=le(n);return Pr(M,J,S)},A.addHook=function(k,n){typeof n=="function"&&(Me[k]=Me[k]||[],ue(Me[k],n))},A.removeHook=function(k){if(Me[k])return X(Me[k])},A.removeHooks=function(k){Me[k]&&(Me[k]=[])},A.removeAllHooks=function(){Me={}},A}var to=pr();return to})});l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function Le(r){return!!(r&&typeof r=="object"&&!Array.isArray(r))}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var Do=function(r,t,e,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(r,e):s?s.value=e:t.set(r,e),e},Po=function(r,t,e,o){if(e==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!o:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?o:e==="a"?o.call(r):o?o.value:t.get(r)},yt,H=class extends Error{constructor(t,e){super(e),yt.set(this,void 0),Do(this,yt,t,"f")}get key(){return Po(this,yt,"f")}};yt=new WeakMap;function ee(r,t,e){return(o,s="")=>{try{let a=t.reduce((w,Q)=>Q(w,s),o);return e?.(a,s),Bo(s,r,a)}catch(a){return Vr(o,a)}}}function Vr(r,t){return{initialValue:r,hasError:!0,error:t}}function Bo(r,t,e){try{return t.forEach(o=>o(e,r)),{initialValue:e,result:e,hasError:!1}}catch(o){return Vr(e,o)}}var ye=(r,t,e,o)=>(s,a="")=>{if(!(r?!t(s):t(s)))throw new H(a,`${e??typeof s} '${s}' ${r?"is":"is not"} ${o}`)};function Uo(r,t,e,o){return`${r} ${t} is${o?" ":" not "}${e}`}function ve(r){return(t,e,o,s,a)=>{if(!e())throw new H(t,Uo(r,o,s,a))}}var Et=ve("array"),zr=r=>t=>(e,o="")=>{Et(o,()=>r?e.length!==t:e.length===t,`of length ${e.length}`,`of exact length ${t}`,r)},$o=r=>t=>(e,o="")=>{Et(o,()=>r?e.length<t:e.length>=t,`of length ${e.length}`,`within minimum length of ${t}`,r)},jo=r=>t=>(e,o="")=>{Et(o,()=>r?e.length>t:e.length<=t,`of length ${e.length}`,`within maximum length of ${t}`,r)},Hr=r=>()=>(t,e="")=>{Et(e,()=>r?t.length!==0:t.length===0,`of length ${t.length}`,"empty",r)};function it(r=[]){let t=[],e=ee(t,r,(o,s="")=>{if(!Array.isArray(o))throw new H(s,`Value ${o} is not an array`)});return e.toString=te(e,o=>o.join(", ")),e.toNumber=re(e,o=>Number(o)),e.toBoolean=ne(e,o=>!!o),e.toCustom=Z(e),e.assert=(o,s)=>(t.push(ye(!1,o,"array",s)),e),e.ofExactLength=o=>(t.push(zr(!1)(o)),e),e.ofMinLength=o=>(t.push($o(!1)(o)),e),e.ofMaxLength=o=>(t.push(jo(!1)(o)),e),e.empty=()=>(t.push(Hr(!1)()),e),e.not={assert:(o,s)=>(t.push(ye(!0,o,"array",s)),e),empty:()=>(t.push(Hr(!0)()),e),ofExactLength:o=>(t.push(zr(!0)(o)),e)},e.items=function(o){return it([(s,a="")=>{let w=e(s,a);if(w.hasError)throw w.error;let Q=w.result.map((Y,ce)=>o(Y,[a,`[${ce}]`].filter(Boolean).join(".")));if(Q.some(Y=>Y.hasError))throw Q.filter(Y=>Y.hasError);return Q.reduce((Y,ce)=>(ce.hasError||Y.push(ce.result),Y),[])}])},e}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var Gr=ve("boolean"),qr=r=>()=>(t,e="")=>{Gr(e,()=>r?!t:t,t,"true",r)},Wr=r=>()=>(t,e="")=>{Gr(e,()=>r?t:!t,t,"false",r)};function xt(r=[]){let t=[],e=ee(t,r,(s,a="")=>{if(typeof s!="boolean")throw new H(a,`Value ${s} is not a boolean`)});e.toString=te(e,s=>s.toString()),e.toNumber=re(e,s=>s?1:0),e.toBoolean=ne(e,s=>s),e.toCustom=Z(e),e.toArray=xe(e);let o=s=>(a,w)=>(t.push(ye(s,a,"boolean",w)),e);return e.assert=o(!1),e.true=()=>(t.push(qr(!1)()),lt(!0,e)),e.false=()=>(t.push(Wr(!1)()),lt(!1,e)),e.not={assert:o(!0),true:()=>(t.push(qr(!0)()),lt(!1,e)),false:()=>(t.push(Wr(!0)()),lt(!0,e))},e}function Kr(r=[]){let e=ee([],r,(o,s="")=>{if(typeof o!="boolean")throw new H(s,`Value ${o} is not a boolean`);if(o!==!1)throw new H(s,`Value ${o} must be false`)});return e.toString=te(e,o=>o.toString()),e.toNumber=re(e,o=>o?1:0),e.toBoolean=ne(e,o=>o),e.toCustom=Z(e),e.toArray=xe(e),e}function Yr(r=[]){let e=ee([],r,(o,s="")=>{if(typeof o!="boolean")throw new H(s,`Value ${o} is not a boolean`);if(o!==!0)throw new H(s,`Value ${o} must be true`)});return e.toString=te(e,o=>o.toString()),e.toNumber=re(e,o=>o?1:0),e.toBoolean=ne(e,o=>o),e.toCustom=Z(e),e.toArray=xe(e),e}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function Xr(r=[]){let t=[],e=ee(t,r);e.toString=te(e,()=>""),e.toNumber=re(e,()=>0),e.toBoolean=ne(e,()=>!1),e.toCustom=Z(e),e.toArray=xe(e);let o=s=>(a,w)=>(t.push(ye(s,a,"custom value",w)),e);return e.assert=o(!1),e.not={assert:o(!0)},e}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var Oe=ve("number"),Jr=r=>t=>(e,o="")=>{if(!(r?t.indexOf(e)===-1:t.indexOf(e)!==-1))throw new H(o,`Number value ${e} ${r?`is one of the disallowed values in [${t.join(", ")}]`:`is not one of the allowed values in [${t.join(", ")}]`}`)},Zr=r=>()=>(t,e="")=>{Oe(e,()=>r?t<0:t>0,t,"positive",r)},Qr=r=>()=>(t,e="")=>{Oe(e,()=>r?t>0:t<0,t,"negative",r)},en=r=>()=>(t,e="")=>{Oe(e,()=>r?t!==0:t===0,t,"zero",r)},tn=r=>t=>(e,o="")=>{Oe(o,()=>r?e>=t:e<t,e,`less than ${t}`,r)},rn=r=>t=>(e,o="")=>{Oe(o,()=>r?e<=t:e>t,e,`more than ${t}`,r)},nn=r=>t=>(e,o="")=>{Oe(o,()=>r?e!==t:e===t,e,`equal to ${t}`,r)},on=r=>t=>(e,o="")=>{Oe(o,()=>r?e%t!==0:e%t===0,e,`a multiple of ${t}`,r)},sn=r=>()=>(t,e="")=>{Oe(e,()=>r?!Number.isInteger(t):Number.isInteger(t),t,"an integer",r)};function bt(r=[]){let t=[],e=ee(t,r,(s,a="")=>{if(typeof s!="number")throw new H(a,`Value ${s} is not a number`)});e.toString=te(e,s=>s.toString()),e.toNumber=re(e,s=>s),e.toBoolean=ne(e,s=>s!==0),e.toCustom=Z(e),e.toArray=xe(e);let o=s=>(a,w)=>(t.push(ye(s,a,"number",w)),e);return e.assert=o(!1),e.allowed=(...s)=>(t.push(Jr(!1)(s)),e),e.integer=()=>(t.push(sn(!1)()),e),e.positive=()=>(t.push(Zr(!1)()),e),e.negative=()=>(t.push(Qr(!1)()),e),e.lessThan=s=>(t.push(tn(!1)(s)),e),e.moreThan=s=>(t.push(rn(!1)(s)),e),e.zero=()=>(t.push(en(!1)()),e),e.multipleOf=s=>(t.push(on(!1)(s)),e),e.equals=s=>(t.push(nn(!1)(s)),e),e.not={assert:o(!0),allowed:(...s)=>(t.push(Jr(!0)(s)),e),integer:()=>(t.push(sn(!0)()),e),positive:()=>(t.push(Zr(!0)()),e),negative:()=>(t.push(Qr(!0)()),e),lessThan:s=>(t.push(tn(!0)(s)),e),moreThan:s=>(t.push(rn(!0)(s)),e),zero:()=>(t.push(en(!0)()),e),multipleOf:s=>(t.push(on(!0)(s)),e),equals:s=>(t.push(nn(!0)(s)),e)},e}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function _t(r=[]){let t=[],e=ee(t,r);e.toCustom=Z(e);let o=s=>(a,w)=>(t.push(ye(s,a,"custom value",w)),e);return e.assert=o(!1),e.not={assert:o(!0)},e}function te(r,t){return(e=t)=>St([(o,s="")=>{let a=r(o,s);if(a.hasError)throw a.error;try{return e(a.result)}catch(w){throw new H(s,`Unable to create a string from ${typeof a.result} ${a.result}

 ${w instanceof Error?w.message:w}`)}}])}function re(r,t){return(e=t)=>bt([(o,s="")=>{let a=r(o,s);if(a.hasError)throw a.error;try{return e(a.result)}catch(w){throw new H(s,`Unable to create a number from ${typeof a.result} ${a.result}

 ${w instanceof Error?w.message:w}`)}}])}function ne(r,t){return(e=t)=>xt([(o,s="")=>{let a=r(o,s);if(a.hasError)throw a.error;try{return e(a.result)}catch(w){throw new H(s,`Unable to create a booolean from ${typeof a.result} ${a.result}

 ${w instanceof Error?w.message:w}`)}}])}function Z(r){return t=>Xr([(e,o="")=>{let s=r(e,o);if(s.hasError)throw s.error;try{return t(s.result)}catch(a){throw new H(o,`Unable to create custom type from ${typeof s.result} ${s.result}

 ${a instanceof Error?a.message:a}`)}}])}function xe(r){return t=>it([(e,o="")=>{let s=r(e,o);if(s.hasError)throw s.error;try{return t(s.result)}catch(a){throw new H(o,`Unable to create an array from ${typeof s.result} ${s.result}

 ${a instanceof Error?a.message:a}`)}}])}function Jt(r){return _t([(t,e="")=>{let o=r(t,e);if(o.hasError)throw o.error;return t}])}function lt(r,t){return(r?Yr:Kr)([(o,s="")=>{let a=t(o,s);if(a.hasError)throw a.error;return o}])}var mn=ve("string"),an=(r,t)=>e=>(o,s="")=>{mn(s,()=>{let a=t?e:e.toLowerCase(),w=t?o:o.toLowerCase();return r?w!==a:w===a},o,"equal to",r)},ln=(r,t)=>e=>(o,s="")=>{let a=t?e:e.map(Y=>Y.toLowerCase()),w=t?o:o.toLowerCase();if(!(r?a.indexOf(w)===-1:a.indexOf(w)!==-1))throw new H(s,`String value ${o} ${r?`is one of the disallowed values in [${e.join(", ")}]`:`is not one of the allowed values in [${e.join(", ")}]`}`)},cn=r=>()=>(t,e="")=>{mn(e,()=>r?t.length!==0:t.length===0,t,"empty",r)},un=r=>t=>(e,o="")=>{if(!(r?!t.test(e):t.test(e)))throw new H(o,`String value '${e}' ${r?"matches":"does not match"} pattern ${t}`)};function St(r=[]){let t=[],e={enabled:!0},o=ee(t,r,(a,w="")=>{if(typeof a!="string")throw new H(w,`Value ${a} is not a string`)});o.toString=te(o,a=>a),o.toNumber=re(o,a=>Number(a)),o.toBoolean=ne(o,a=>!!a),o.toCustom=Z(o),o.toArray=xe(o);let s=a=>(w,Q)=>(t.push(ye(a,w,"string",Q)),o);return o.assert=s(!1),o.allowed=(...a)=>(t.push(ln(!1,e.enabled)(a)),Jt(o)),o.matches=a=>(t.push(un(!1)(a)),o),o.empty=()=>(t.push(cn(!1)()),o),o.equals=a=>(t.push(an(!1,e.enabled)(a)),Jt(o)),o.case=a=>(e.enabled=a==="sensitive",o),o.not={assert:s(!0),allowed:(...a)=>(t.push(ln(!0,e.enabled)(a)),o),matches:a=>(t.push(un(!0)(a)),o),empty:()=>(t.push(cn(!0)()),o),equals:a=>(t.push(an(!0,e.enabled)(a)),o)},o}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function wt(...r){return(t,e="")=>{let o=[];for(let s of r){let a=s(t,e);if(!a.hasError)return a;o.push(a)}return{hasError:!0,initialValue:t,error:o}}}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function Mt(r=[]){let t=ee([],r,(e,o="")=>{if(e!==void 0)throw new H(o,`Value ${e} is not undefined`)});return t.toString=te(t,()=>String(void 0)),t.toNumber=re(t,()=>NaN),t.toBoolean=ne(t,()=>!!void 0),t.toCustom=Z(t),t.toArray=xe(t),t}function At(...r){return wt(Mt(),...r)}function kt(r=[]){let t=[],e=ee(t,r,(s,a="")=>{if(s===null||typeof s!="object"||Array.isArray(s))throw new H(a,`Value ${s} is not an object`)});e.toString=te(e,s=>String(s)),e.toNumber=re(e,s=>Number(s)),e.toBoolean=ne(e,s=>!!s),e.toCustom=Z(e);let o=s=>(a,w)=>(t.push(ye(s,a,"object",w)),e);return e.assert=o(!1),e.not={assert:o(!0)},e.schema=function(s){return kt([(a,w="")=>{let Q=e(a,w);if(Q.hasError)throw Q.error;let Y={...a??{},...Q.result},ce=Object.entries(s).map(([X,ue])=>[X,ue(Y[X],[w,X].filter(Boolean).join("."))]),_e=ce.filter(([,X])=>X.hasError);if(_e.length>0)throw _e.reduce((X,[ue,se])=>(X[ue]=se,X),{});return ce.reduce((X,[ue,se])=>(se.hasError||(X[ue]=se.result),X),Y)}])},e.partial=function(s){return kt([(a,w="")=>{let Q=e(a,w);if(Q.hasError)throw Q.error;let Y={...a??{},...Q.result},ce=Object.entries(s).map(([X,ue])=>{let se=At(ue)(Y[X],[w,X].filter(Boolean).join("."));return se.hasError&&console.error("ERROR IS HERE",se.error),[X,se]}),_e=ce.filter(([,X])=>X.hasError);if(_e.length>0)throw _e.reduce((X,[ue,se])=>(X[ue]=se,X),{});return ce.reduce((X,[ue,se])=>(se.hasError||se.result!==void 0&&(X[ue]=se.result),X),Y)}])},e}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function pn(r=[]){let t=ee([],r,(e,o="")=>{if(e!==null)throw new H(o,`Value ${e} is not null`)});return t.toString=te(t,()=>String(null)),t.toNumber=re(t,()=>0),t.toBoolean=ne(t,()=>!!null),t.toCustom=Z(t),t}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function fn(){let r=ee([],[],(t,e="")=>{if(t!==null)throw new H(e,`Value ${t} is not an error`)});return r.toString=te(r,t=>String(t)),r.toNumber=re(r,()=>0),r.toBoolean=ne(r,()=>!!null),r.toCustom=Z(r),r}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function gn(r){let t=(e,o="")=>{if(!e||typeof e!="object"||Array.isArray(e))return{initialValue:e,hasError:!0,error:new H(o,`Value ${e} is not a record`)};let s=Object.entries(e).map(([a,w],Q)=>r(w,[a,`[${Q}]`].filter(Boolean).join(".")));return s.some(a=>a.hasError)?{initialValue:e,hasError:!0,error:s.filter(a=>a.hasError)}:{hasError:!1,initialValue:e,result:e}};return t.toString=te(t,e=>String(e)),t.toNumber=re(t,e=>Number(e)),t.toBoolean=ne(t,e=>!!e),t.toCustom=Z(t),t.toArray=xe(t),t}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var i={string:St,number:bt,boolean:xt,array:it,object:kt,error:fn,null:pn,undefined:Mt,oneof:wt,stringUnion:_t,record:gn,optional:At,anything:()=>r=>({initialValue:r,hasError:!1,result:r})};function G(r){return t=>!r(t).hasError}function dn(r){return{type:"block-start",data:{id:r}}}function hn(r){return Le(r)&&r.type==="block-done"}function Tn(r){return Le(r)&&r.type==="block-failed"}function yn(r){return Le(r)&&r.type==="file-progress"}function En(r){return Le(r)&&r.type==="file-done"}function xn(r){return Le(r)&&r.type==="redirector-init"}var Vo=i.object().schema({type:i.string().equals("open-in-disposable-browser"),data:i.object().schema({threadId:i.string(),gmId:i.string(),filter:i.string().allowed("all","spam"),endpoint:i.string()})}),qp=G(Vo);l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var Be=globalThis.browser??globalThis.chrome;l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function bn(r){return{success:!1,error:r}}function _n(r){return{success:!0,value:r}}function Sn(r){try{let t=r();return zo(t)?t:_n(t)}catch(t){return bn(t)}}function zo(r){return Le(r)&&typeof r.success=="boolean"&&(r.success&&"value"in r||!r.success&&"error"in r)}function wn(r){return Sn(()=>JSON.stringify(r))}var Ue=class extends Error{_error;_type;_state;constructor(t){super(typeof t=="string"?t:void 0),this._error=typeof t=="string"?this:t,this._type=Ue.SerializedType}toJSON(){return{__serialized_type:this._type,stack:this._error.stack,message:this._error.message,name:this._error.name,state:this._state}}static create(t){if(t instanceof Error)return new Ue(t);if(typeof t=="string"||typeof t=="boolean"||typeof t=="number"||typeof t=="symbol"||typeof t=="bigint"||typeof t=="function")return new Ue(t.toString());if(qo(t))return Wo(t);let e=wn(t);return e.success?new Ue(e.value):new Ue("Unserializeable data error")}setState(t){this._state=t}},Fe=Ue;at(Fe,"SerializedType","JSONableError");var Ho=i.object().schema({__serialized_type:i.string().equals(Fe.SerializedType),stack:i.optional(i.string()),message:i.string(),name:i.string(),state:i.anything()}),qo=G(Ho);function Wo(r){let t=new Error;return t.stack=r.stack,t.name=r.name,t.message=r.message,new Fe(t)}var Zt=class extends Fe{constructor(t,e={}){super(`Expected [${t}] response was not valid`),this._type=Zt.SerializedType,this.setState({expectedType:t,errors:e})}},Rt=Zt;at(Rt,"SerializedType","UnexpectedResponseError");var Go=i.object().schema({__serialized_type:i.string().equals(Rt.SerializedType),stack:i.optional(i.string()),message:i.string(),name:i.string(),state:i.object().schema({expectedType:i.string(),errors:i.record(i.string())})}),Cg=G(Go);l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function Ke(...r){}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var Ko=console,Mn=Ko;var An=R!=="all"?R.map(r=>r.split(".")):null,$e=Mn;globalThis.console=new Proxy($e,{get:()=>Ke});function kn(r){return An&&!Yo(r,An)?{log:Ke,warn:Ke,error:(t,...e)=>$e.error(`[${r}] ${t}`,...e),info:Ke,debug:Ke}:{log:(t,...e)=>$e.log(`[${r}] ${t}`,...e),warn:(t,...e)=>$e.warn(`[${r}] ${t}`,...e),error:(t,...e)=>$e.error(`[${r}] ${t}`,...e),info:(t,...e)=>$e.info(`[${r}] ${t}`,...e),debug:(t,...e)=>$e.debug(`[${r}] ${t}`,...e)}}function Yo(r,t){let e=r.split(".");for(let o of t){let s=0,a=!0;for(;s<e.length;){if(o[s]==="*"){if(o.length-1===s){a=!0;break}s+=1;continue}if(o[s]===e[s]){s+=1;continue}a=!1;break}if(a)return!0}return!1}l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();function we(r){return i.object().schema({target:i.string().equals("background-core"),data:r??i.anything()}).partial({module_source:i.string()})}var Xo=we(),Nh=G(Xo);var Jo=we(i.string().equals("request-logout")),Zo=we(i.string().equals("request-login"));var Dh=G(Jo),Ph=G(Zo);l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var Qo=i.string().equals("event_propagation"),ct=i.object().schema({type:Qo,event:i.object().schema({type:i.string(),data:i.anything()})}),rT=G(ct);var es=we(ct),_T=G(es);l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var Ct=i.string().equals("runtime");function Qt(r){return i.object().schema({target:Ct,data:r??i.anything()})}var ts=Qt(),VT=G(ts);var rs=Qt(i.object().schema({type:i.string().equals("exposed_event_callback"),source_id:i.string(),args:i.array().items(i.anything())})),zT=G(rs);var ns=Qt(i.object().schema({type:i.string().equals("core_event_callback"),source_id:i.string(),args:i.array().items(i.anything())})),HT=G(ns);var os=we(i.object().schema({type:i.string().equals("execute_exposed_function"),fn:i.object().schema({name:i.string(),args:i.array()})})),py=G(os);var ss=we(i.object().schema({type:i.string().equals("execute_core_function"),fn:i.object().schema({module:i.string(),name:i.string(),args:i.array()})})),fy=G(ss);var as=we(i.object().schema({type:i.string().equals("requested_exposed_function_availability"),fn:i.string()})),gy=G(as);var is=we(i.object().schema({type:i.string().equals("exposed_event_call"),source:i.object().schema({id:i.string(),target:i.oneof(Ct)}),event_name:i.string(),listener_action:i.string().allowed("add","remove")})),dy=G(is);var ls=we(i.object().schema({type:i.string().equals("core_event_call"),source:i.object().schema({id:i.string(),target:i.oneof(Ct)}),module_name:i.string(),event_name:i.string(),listener_action:i.string().allowed("add","remove")})),hy=G(ls);l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var cs=i.string().equals("content-core");function er(r){return i.object().schema({target:cs,data:r??i.anything()})}var us=er(),tE=G(us);l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var ms=er(ct),bE=G(ms);l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();var ps=i.object().schema({source:i.string().equals("tab-worker"),tab_id:i.number()}),fs=i.object().schema({source:i.string().equals("unspecified")}),gs=i.oneof(ps,fs),Rn=i.string().equals("module");function ds(r){return i.object().schema({target:Rn,module:i.string(),source:gs,data:r??i.anything()})}var hs=ds(),Ts=i.object().schema({target:i.string().equals("module_event_forward"),module:i.string(),event:i.string(),args:i.array().items(i.anything())});var sx=G(Ts),ys=i.object().schema({target:i.string().equals("exposed_event_forward"),module_source:i.string(),event:i.string(),args:i.array().items(i.anything())});var ax=G(ys),ix=G(Rn),lx=G(hs);function Cn(r,t,e){return{target:"module",module:r,data:t,source:e??{source:"unspecified"}}}var Es=i.object().schema({target:i.string().equals("module_direct_call"),module:i.string(),call:i.object().schema({name:i.string(),args:i.array()})}),cx=G(Es);l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();l();c();u();m();p();f();g();d();h();T();y();E();x();b();_();async function In(){let r={active:!0,lastFocusedWindow:!0},[t]=await Be.tabs.query(r);return t?.id}var Nn=Fo(Ln()),xs=kn("t.nointernet"),bs="SquareX Enhanced Privacy Mode",_s=["Blocks all email trackers (including images)","Sender cannot know you read this email","Private view and no data is sent to our servers"],Ss="Expired / Incorrect URL",ws="The URL for this email thread is either incorrect or has expired. Please reopen this page from your mail",Ms="Unable to Open Email Thread",As="We encountered an issue while trying to open the email thread. Please try again later or contact support for assistance",Dn="sqrx-close-btn",Ne=document.createElement("div");Ne.id="sqrx-progress-box";Ne.classList.add("hidden","message");Ne.innerHTML="Please wait while the link is opening...";document.body.appendChild(Ne);function Pn(){document.visibilityState!=="visible"&&Ne.classList.add("hidden")}document.addEventListener("visibilitychange",Pn);var Bn=new URLSearchParams(window.location.search),vn=Bn.get("id"),On=Bn.get("endpoint");vn!==null?Be.runtime.sendMessage(Cn("gmailContextMenuNoInternet",dn(vn))):(xs.error("missing id"),nr("not_found"));Be.runtime.onMessage.addListener(r=>{if(hn(r))return ks(r);Tn(r)?nr(r.data.reason):yn(r)?Ne.classList.remove("hidden"):En(r)?Ne.classList.add("hidden"):xn(r)&&Ne.classList.remove("hidden"),Pn()});async function ks(r){let t=await Rs(r.data.html),e=document.createElement("iframe");e.setAttribute("sandbox","allow-popups allow-popups-to-escape-sandbox allow-same-origin"),e.id="sqrx-no-internet",e.srcdoc=t,document.body.appendChild(e),nr("done")}function nr(r){let t=document.createElement("div");t.id="sqrx-message",t.classList.add("message"),t.innerHTML=Cs(r),r!=="done"&&t.classList.add("error"),document.body.appendChild(t),document.getElementById(Dn)?.addEventListener("click",()=>{t.classList.add("hidden")})}var Fn=Be.runtime.getURL("");async function Rs(r){r=Nn.default.sanitize(r);let t=new DOMParser,e=new XMLSerializer,o=t.parseFromString(r,"text/html"),s=Array.from(o.querySelectorAll("a[href]")),a=document.createElement("style");a.innerText="img { display: none !important; }",a.type="text/css",o.head.appendChild(a);let w=await In(),Q=w===void 0?"":`source=${w}&`;return s.forEach(Y=>{let ce=!1;Y.href.startsWith(Fn)&&On!==null&&(Y.href=Y.href.replace(Fn,On),Y.innerHTML="Open Attachment:",ce=!0);let _e=ce?"d=1&":"";Y.href.startsWith("mailto:")?Y.removeAttribute("href"):(Y.href=`${Be.runtime.getURL("redirector.html")}?${_e}${Q}url=${window.btoa(Y.href)}`,Y.target="_blank")}),e.serializeToString(o)}function Cs(r){let t,e;switch(r){case"not_found":t=Ss,e=ws;break;case"generic":t=Ms,e=As;break;default:t=bs,e=`<ul class="sqrx-bullets"><li>${_s.join("</li><li>")}</li></ul>`}return`<div id="sqrx-heading">
            <h3>${t}</h3>
            <button id="${Dn}">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                id="sqrx-close-svg"
              >
                <path
                  d="M5.626 5.045 C 5.420 5.154,5.146 5.433,5.038 5.644 C 4.924 5.867,4.924 6.132,5.039 6.363 C 5.102 6.487,5.942 7.356,7.853 9.270 L 10.579 12.000 7.853 14.730 C 5.942 16.644,5.102 17.513,5.039 17.637 C 4.863 17.990,4.952 18.354,5.299 18.701 C 5.646 19.048,6.010 19.137,6.363 18.961 C 6.487 18.898,7.356 18.058,9.270 16.147 L 12.000 13.421 14.730 16.147 C 16.644 18.058,17.513 18.898,17.637 18.961 C 17.990 19.137,18.354 19.048,18.701 18.701 C 19.048 18.354,19.137 17.990,18.961 17.637 C 18.898 17.513,18.058 16.644,16.147 14.730 L 13.421 12.000 16.147 9.270 C 18.058 7.356,18.898 6.487,18.961 6.363 C 19.137 6.010,19.048 5.646,18.701 5.299 C 18.361 4.959,17.980 4.868,17.628 5.044 C 17.516 5.100,16.558 6.029,14.730 7.853 L 12.000 10.579 9.270 7.853 C 7.442 6.029,6.484 5.100,6.372 5.044 C 6.152 4.934,5.835 4.935,5.626 5.045 "
                  stroke="none"
                  fill="currentColor"
                  fill-rule="evenodd"
                ></path>
              </svg>
            </button>
          </div>
          <div>${e}</div>`}})();
/*! Bundled license information:

dompurify/dist/purify.js:
  (*! @license DOMPurify 3.1.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.6/LICENSE *)
*/
