#!/bin/bash

# ============================================================================
# üî• –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Hyprland by Sm1tee
# ============================================================================
# –ö—Ä–∞—Å–∏–≤—ã–π –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
# –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Hyprland –Ω–∞ Arch Linux —Å –ø–æ–ª–Ω–æ–π –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ü–µ—Å—Å–∞
# ============================================================================

# –¶–≤–µ—Ç–∞ –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –≤—ã–≤–æ–¥–∞
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
CYAN='\033[0;36m'
WHITE='\033[1;37m'
NC='\033[0m' # No Color

# –°–∏–º–≤–æ–ª—ã –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
CHECKMARK="‚úÖ"
CROSS="‚ùå"
ARROW="‚û§"
STAR="‚≠ê"
GEAR="‚öôÔ∏è"
PACKAGE="üì¶"
FIRE="üî•"
WARNING="‚ö†Ô∏è"
QUESTION="‚ùì"

# –ú–∞—Å—Å–∏–≤—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
COMPLETED_ACTIONS=()
SKIPPED_ACTIONS=()
FAILED_ACTIONS=()

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞
print_header() {
    clear
    echo -e "${PURPLE}‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó${NC}"
    echo -e "${PURPLE}‚ïë                                                                              ‚ïë${NC}"
    echo -e "${PURPLE}‚ïë  ${FIRE} ${WHITE}–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò–ô –£–°–¢–ê–ù–û–í–©–ò–ö –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò HYPRLAND by Sm1Tee ${WHITE} ${FIRE}            ${PURPLE}‚ïë${NC}"
    echo -e "${PURPLE}‚ïë                                                                              ‚ïë${NC}"
    echo -e "${PURPLE}‚ïë  ${CYAN}          –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏${NC}                     ${PURPLE}‚ïë${NC}"
    echo -e "${PURPLE}‚ïë                                                                              ‚ïë${NC}"
    echo -e "${PURPLE}‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù${NC}"
    echo ""
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —à–∞–≥–µ
print_step_info() {
    local step_num="$1"
    local title="$2"
    local description="$3"

    echo -e "${BLUE}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
    echo -e "${BLUE}‚îÇ ${WHITE}–®–ê–ì $step_num: $title"
    echo -e "${BLUE}‚îÇ${NC}"

    # –†–∞–∑–±–∏–≤–∞–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–æ–∫–∏ –ø–æ 75 —Å–∏–º–≤–æ–ª–æ–≤
    local max_width=75
    local words=($description)
    local line=""

    for word in "${words[@]}"; do
        if [ ${#line} -eq 0 ]; then
            line="$word"
        elif [ $((${#line} + ${#word} + 1)) -le $max_width ]; then
            line="$line $word"
        else
            echo -e "${BLUE}‚îÇ ${CYAN}$line${NC}"
            line="$word"
        fi
    done

    # –í—ã–≤–æ–¥–∏–º –ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç—Ä–æ–∫—É –µ—Å–ª–∏ –µ—Å—Ç—å
    if [ ${#line} -gt 0 ]; then
        echo -e "${BLUE}‚îÇ ${CYAN}$line${NC}"
    fi

    echo -e "${BLUE}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
    echo ""
}



# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã
print_command() {
    local command="$1"
    echo -e "${GREEN}${GEAR} –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:${NC}"
    echo -e "${WHITE}$command${NC}"
    echo ""
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è
confirm_action() {
    local message="$1"
    echo -e "${YELLOW}${QUESTION} $message${NC}"
    echo -e "${CYAN}–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å? (y/N): ${NC}"
    read -r response
    case "$response" in
        [yY–¥–î]* ) return 0;;
        * ) return 1;;
    esac
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
execute_command() {
    local command="$1"
    local success_msg="$2"
    local error_msg="$3"

    echo -e "${CYAN}${ARROW} –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è: $command${NC}"

    if eval "$command"; then
        echo -e "${GREEN}${CHECKMARK} $success_msg${NC}"
        COMPLETED_ACTIONS+=("$success_msg")
        return 0
    else
        echo -e "${RED}${CROSS} $error_msg${NC}"
        FAILED_ACTIONS+=("$error_msg")
        return 1
    fi
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
add_skipped_action() {
    local action="$1"
    SKIPPED_ACTIONS+=("$action")
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–∞—É–∑—ã
pause_for_user() {
    echo -e "${CYAN}–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...${NC}"
    read -r
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ root
if [[ $EUID -eq 0 ]]; then
   echo -e "${RED}${CROSS} –ù–µ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –æ—Ç –∏–º–µ–Ω–∏ root!${NC}"
   echo -e "${CYAN}–°–∫—Ä–∏–ø—Ç —Å–∞–º –∑–∞–ø—Ä–æ—Å–∏—Ç –ø—Ä–∞–≤–∞ sudo –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ.${NC}"
   exit 1
fi

# –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
main() {
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä—É—Å—Å–∫–æ–π –ª–æ–∫–∞–ª–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
    if ! locale -a 2>/dev/null | grep -qi "ru_RU"; then
        echo "Russian locale not found. Installing for correct text display..."
        sudo sed -i 's/#ru_RU.UTF-8/ru_RU.UTF-8/' /etc/locale.gen 2>/dev/null
        sudo locale-gen 2>&1
        echo "Locale installed successfully!"
        echo "Please wait while locale is being applied..."
        sleep 2
    fi

    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä—É—Å—Å–∫—É—é –ª–æ–∫–∞–ª—å –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞
    export LANG=ru_RU.UTF-8
    export LC_ALL=ru_RU.UTF-8
    export LC_CTYPE=ru_RU.UTF-8

    print_header

    echo -e "${GREEN}${STAR} –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫!${NC}"
    echo -e "${CYAN}–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å—Ä–µ–¥—É Hyprland –Ω–∞ Arch Linux.${NC}"
    echo -e "${CYAN}–ö–∞–∂–¥—ã–π —à–∞–≥ –±—É–¥–µ—Ç –æ–±—ä—è—Å–Ω–µ–Ω, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å.${NC}"
    echo ""

    if ! confirm_action "–ù–∞—á–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É?"; then
        echo -e "${YELLOW}–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.${NC}"
        exit 0
    fi

    # –®–ê–ì 1: –í–∫–ª—é—á–µ–Ω–∏–µ multilib
    print_step_info "1" "–í–ö–õ–Æ–ß–ï–ù–ò–ï MULTILIB" \
        "–í–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ 32-–±–∏—Ç–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"

    print_command "grep -q \"^\\[multilib\\]\" /etc/pacman.conf || sudo sed -i '/#\\[multilib\\]/,/^#Include/ { s/^#//; }' /etc/pacman.conf && sudo pacman -Sy"

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã 64-–±–∏—Ç–Ω—ã–µ, –Ω–æ –º–Ω–æ–≥–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –µ—â–µ 32-–±–∏—Ç–Ω—ã–µ"
    echo -e "  ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 32-–±–∏—Ç–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –∏–≥—Ä (–æ—Å–æ–±–µ–Ω–Ω–æ —Å—Ç–∞—Ä—ã—Ö)"
    echo -e "  ‚Ä¢ –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è Steam –∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∏–≥—Ä"
    echo -e "  ‚Ä¢ –ù—É–∂–Ω–æ –¥–ª—è Wine (–∑–∞–ø—É—Å–∫ Windows-–ø—Ä–æ–≥—Ä–∞–º–º)"
    echo -e "  ‚Ä¢ –î—Ä–∞–π–≤–µ—Ä—ã –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è"
    echo ""

    if confirm_action "–í–∫–ª—é—á–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π multilib?"; then
        execute_command "grep -q \"^\\[multilib\\]\" /etc/pacman.conf || (sudo sed -i '/#\\[multilib\\]/,/^#Include/ { s/^#//; }' /etc/pacman.conf && sudo pacman -Sy)" \
            "–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π multilib —É—Å–ø–µ—à–Ω–æ –≤–∫–ª—é—á–µ–Ω!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ multilib!"
        pause_for_user
    else
        add_skipped_action "–í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è multilib"
    fi

    # –®–ê–ì 2: –í–∫–ª—é—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫
    print_step_info "2" "–ü–ê–†–ê–õ–õ–ï–õ–¨–ù–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –ü–ê–ö–ï–¢–û–í" \
        "–í–∫–ª—é—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ 10 –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏."

    print_command "sudo sed -i '/^#ParallelDownloads/s/^#//;s/^ParallelDownloads = [0-9]\\+/ParallelDownloads = 10/' /etc/pacman.conf"

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Arch –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø–∞–∫–µ—Ç—ã –ø–æ –æ–¥–Ω–æ–º—É (–º–µ–¥–ª–µ–Ω–Ω–æ)"
    echo -e "  ‚Ä¢ –£—Å–∫–æ—Ä–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ –≤ 10 —Ä–∞–∑"
    echo -e "  ‚Ä¢ –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–∫–∞–Ω–∞–ª–∞"
    echo -e "  ‚Ä¢ –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Å —á–∞—Å–æ–≤ –¥–æ –º–∏–Ω—É—Ç"
    echo -e "  ‚Ä¢ –û—Å–æ–±–µ–Ω–Ω–æ –∑–∞–º–µ—Ç–Ω–æ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –±–æ–ª—å—à–∏—Ö –ø–∞–∫–µ—Ç–æ–≤"
    echo ""

    if confirm_action "–í–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏?"; then
        execute_command "grep -q \"^ParallelDownloads = 10\" /etc/pacman.conf || sudo sed -i '/^#ParallelDownloads/s/^#//;s/^ParallelDownloads = [0-9]\\+/ParallelDownloads = 10/' /etc/pacman.conf" \
            "–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–≥—Ä—É–∑–∫–∏ —É—Å–ø–µ—à–Ω–æ –≤–∫–ª—é—á–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫!"
        pause_for_user
    else
        add_skipped_action "–í–∫–ª—é—á–µ–Ω–∏–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫"
    fi

    install_mirrors_and_keys
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–µ—Ä–∫–∞–ª –∏ –∫–ª—é—á–µ–π
install_mirrors_and_keys() {
    # –®–ê–ì 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–µ—Ä–∫–∞–ª
    print_step_info "3" "–ù–ê–°–¢–†–û–ô–ö–ê –ó–ï–†–ö–ê–õ" \
        "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä —Å–∞–º—ã—Ö –±—ã—Å—Ç—Ä—ã—Ö –∑–µ—Ä–∫–∞–ª –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞–∫–µ—Ç–æ–≤."

    print_command "sudo pacman -S --needed reflector && sudo reflector --country Russia --protocol https --latest 20 --sort rate --save /etc/pacman.d/mirrorlist"

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ Arch Linux –∏–º–µ–µ—Ç —Å–µ—Ä–≤–µ—Ä—ã (–∑–µ—Ä–∫–∞–ª–∞) –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É"
    echo -e "  ‚Ä¢ –í—ã–±–æ—Ä —Å–∞–º—ã—Ö –±—ã—Å—Ç—Ä—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –≤ –†–æ—Å—Å–∏–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞"
    echo -e "  ‚Ä¢ –£—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤ –≤ —Ä–∞–∑—ã"
    echo -e "  ‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ HTTPS –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"
    echo -e "  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä 20 —Å–∞–º—ã—Ö —Å–≤–µ–∂–∏—Ö –∏ –±—ã—Å—Ç—Ä—ã—Ö –∑–µ—Ä–∫–∞–ª"
    echo ""

    if confirm_action "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–µ—Ä–∫–∞–ª–∞?"; then
        execute_command "sudo pacman -S --needed reflector" \
            "Reflector —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ reflector!"

        execute_command "sudo reflector --country Russia --protocol https --latest 20 --sort rate --save /etc/pacman.d/mirrorlist" \
            "–ó–µ—Ä–∫–∞–ª–∞ —É—Å–ø–µ—à–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–µ—Ä–∫–∞–ª!"
        pause_for_user
    else
        add_skipped_action "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–µ—Ä–∫–∞–ª Arch Linux"
    fi

    # –®–ê–ì 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π Arch
    print_step_info "4" "–û–ë–ù–û–í–õ–ï–ù–ò–ï –ö–õ–Æ–ß–ï–ô" \
        "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –ø–∞–∫–µ—Ç–æ–≤."

    echo -e "${CYAN}${ARROW} –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:${NC}"
    echo -e "  1. sudo pacman-key --init"
    echo -e "  2. sudo pacman-key --populate archlinux"
    echo -e "  3. sudo pacman-key --refresh-keys"
    echo -e "  4. sudo pacman -Sy"
    echo ""

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤"
    echo -e "  ‚Ä¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –ø–æ–¥–ø–∏—Å–µ–π (–∫–∞–∫ –ø–µ—á–∞—Ç—å –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö)"
    echo -e "  ‚Ä¢ –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–¥–¥–µ–ª—å–Ω—ã—Ö –∏–ª–∏ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤"
    echo -e "  ‚Ä¢ –ì–∞—Ä–∞–Ω—Ç–∏—è —Ç–æ–≥–æ, —á—Ç–æ –ø–∞–∫–µ—Ç—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ Arch"
    echo -e "  ‚Ä¢ –≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç, –Ω–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"
    echo ""

    echo -e "${YELLOW}${WARNING} –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—á–µ–Ω—å –¥–ª–∏—Ç–µ–ª—å–Ω—ã–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º, –¥–∞–∂–µ –µ—Å–ª–∏ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∏—Å–ª–∞ –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–π—Ç–µ –µ–≥–æ. –ï—Å–ª–∏ –Ω–µ –≥–æ—Ç–æ–≤—ã –¥–æ–ª–≥–æ –∂–¥–∞—Ç—å - –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —à–∞–≥.${NC}"
    echo ""

    if confirm_action "–û–±–Ω–æ–≤–∏—Ç—å –∫–ª—é—á–∏ Arch Linux?"; then
        execute_command "sudo pacman-key --init" \
            "–ö–ª—é—á–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª—é—á–µ–π!"

        execute_command "sudo pacman-key --populate archlinux" \
            "–ö–ª—é—á–∏ Arch Linux –∑–∞–≥—Ä—É–∂–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–ª—é—á–µ–π!"

        execute_command "sudo pacman-key --refresh-keys" \
            "–ö–ª—é—á–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–ª—é—á–µ–π!"

        execute_command "sudo pacman -Sy" \
            "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∞!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö!"
        pause_for_user
    else
        add_skipped_action "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π Arch Linux"
    fi

    install_aur_helpers
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ AUR-–ø–æ–º–æ—â–Ω–∏–∫–æ–≤
install_aur_helpers() {
    # –®–ê–ì 5: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ YAY –∏ PARU
    print_step_info "5" "–£–°–¢–ê–ù–û–í–ö–ê AUR-–ü–û–ú–û–©–ù–ò–ö–û–í" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ yay –∏ paru –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ AUR."

    echo -e "${CYAN}${ARROW} –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:${NC}"
    echo -e "  1. sudo pacman -S --needed git base-devel && git clone https://aur.archlinux.org/yay.git && cd yay && makepkg -si"
    echo -e "  2. yay -S --needed paru"
    echo ""

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ AUR (Arch User Repository) - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–∞–∫–µ—Ç—ã"
    echo -e "  ‚Ä¢ –î–æ—Å—Ç—É–ø –∫ —Ç—ã—Å—è—á–∞–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏"
    echo -e "  ‚Ä¢ yay –∏ paru - –ø–æ–º–æ—â–Ω–∏–∫–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–∑ AUR"
    echo -e "  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏"
    echo -e "  ‚Ä¢ –ë–µ–∑ –Ω–∏—Ö –º–Ω–æ–≥–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã"
    echo ""

    echo -e "${YELLOW}${WARNING} –î–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ —ç—Ç–æ—Ç —à–∞–≥ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!${NC}"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å AUR-–ø–æ–º–æ—â–Ω–∏–∫–∏?"; then
        execute_command "sudo pacman -S --needed git base-devel" \
            "Git –∏ base-devel —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ git –∏ base-devel!"

        if [ ! -d "yay" ]; then
            execute_command "git clone https://aur.archlinux.org/yay.git" \
                "–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π yay –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω!" \
                "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ yay!"
        fi

        execute_command "cd yay && makepkg -si --noconfirm" \
            "YAY —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ yay!"

        execute_command "yay -S --needed paru --noconfirm" \
            "PARU —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ paru!"

        cd ..

        # –£–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏ yay –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
        if [ -d "yay" ]; then
            execute_command "rm -rf yay" \
                "–í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–ø–∫–∞ yay —É–¥–∞–ª–µ–Ω–∞!" \
                "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–ø–∫–∏ yay!"
        fi

        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ AUR-–ø–æ–º–æ—â–Ω–∏–∫–æ–≤"
    fi

    install_hyprland_packages
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ Hyprland
install_hyprland_packages() {
    # –®–ê–ì 6.1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫
    print_step_info "6.1" "–ë–ê–ó–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê –ò –ë–ò–ë–õ–ò–û–¢–ï–ö–ò" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç, –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–≤ –∏ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã Hyprland."

    local base_packages="amd-ucode brightnessctl cairo cmake cpio curl dbus fastfetch glaze inxi libdisplay-info libinput libliftoff libnotify libx11 libxcb libxcomposite libxcursor libxfixes libxkbcommon libxrender linux-headers meson nano net-tools networkmanager ninja pacman-contrib pango pixman polkit re2 rsync sudo tomlplusplus unzip upower wayland-protocols wget qt6-multimedia xcb-proto xcb-util xcb-util-errors xcb-util-keysyms xcb-util-wm go xdg-desktop-portal xdg-user-dirs xdg-utils xorg-xwayland cava zip"

    print_command "yay -S --needed $base_packages"

    echo -e "${CYAN}${ARROW} –ß—Ç–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ ${WHITE}–ë–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã${NC} - curl, nano, rsync, sudo, unzip, wget, zip"
    echo -e "  ‚Ä¢ ${WHITE}–°–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã${NC} - fastfetch, inxi, net-tools, networkmanager, pacman-contrib"
    echo -e "  ‚Ä¢ ${WHITE}–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å–±–æ—Ä–∫–∏${NC} - cmake, meson, ninja"
    echo -e "  ‚Ä¢ ${WHITE}XDG —É—Ç–∏–ª–∏—Ç—ã${NC} - xdg-desktop-portal, xdg-user-dirs, xdg-utils"
    echo -e "  ‚Ä¢ ${WHITE}–°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã${NC} - brightnessctl, libnotify, polkit, upower"
    echo -e "  ‚Ä¢ ${WHITE}Wayland –±–∏–±–ª–∏–æ—Ç–µ–∫–∏${NC} - libxcb, wayland-protocols, xcb-proto, xcb-util"
    echo -e "  ‚Ä¢ ${WHITE}–ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏${NC} - cairo, libinput, pango, pixman"
    echo -e "  ‚Ä¢ ${WHITE}X11 —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å${NC} - libx11, libxcomposite, libxcursor, libxfixes, xorg-xwayland"
    echo -e "  ‚Ä¢ ${WHITE}–ñ–µ–ª–µ–∑–æ –∏ –ø—Ä–æ—à–∏–≤–∫–∏${NC} - amd-ucode, linux-headers"
    echo ""

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ –≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç —Å–∏—Å—Ç–µ–º—ã - –±–µ–∑ —ç—Ç–æ–≥–æ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç"
    echo -e "  ‚Ä¢ –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä—ã –Ω—É–∂–Ω—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ AUR –ø–∞–∫–µ—Ç–æ–≤"
    echo -e "  ‚Ä¢ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ Wayland –∏ X11 –¥–ª—è —Ä–∞–±–æ—Ç—ã –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
    echo -e "  ‚Ä¢ –°–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∏—Ç–∞–Ω–∏–µ–º –∏ Bluetooth"
    echo ""

    echo -e "${YELLOW}${WARNING} –≠—Ç–æ –±–∞–∑–æ–≤—ã–π –Ω–∞–±–æ—Ä. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã.${NC}"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏?"; then
        execute_command "yay -S --needed $base_packages" \
            "–ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –±–∞–∑–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã!"
        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∞–∑–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫"
    fi

    install_hyprland_core
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Hyprland –∏ –µ–≥–æ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã
install_hyprland_core() {
    # –®–ê–ì 6.2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Hyprland –∏ –µ–≥–æ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã
    print_step_info "6.2" "HYPRLAND –ò –≠–ö–û–°–ò–°–¢–ï–ú–ê" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∞–º–æ–≥–æ Hyprland, –µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, quickshell –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã."

    local hyprland_packages="aquamarine cliphist grim hyprland hyprland-qtutils hyprcursor hyprgraphics hyprlang hyprpolkitagent hyprutils hyprwayland-scanner matugen-bin quickshell-git satty slurp wl-clip-persist wl-clipboard xdg-desktop-portal-hyprland"

    print_command "yay -S --needed $hyprland_packages"

    echo -e "${CYAN}${ARROW} –ß—Ç–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ ${WHITE}Hyprland${NC} - —Å–∞–º –∫–æ–º–ø–æ–∑–∏—Ç–æ—Ä Wayland"
    echo -e "  ‚Ä¢ ${WHITE}Core –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏${NC} - aquamarine, hyprcursor, hyprgraphics, hyprlang, hyprutils, hyprwayland-scanner"
    echo -e "  ‚Ä¢ ${WHITE}–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è${NC} - hyprpolkitagent, xdg-desktop-portal-hyprland"
    echo -e "  ‚Ä¢ ${WHITE}Quickshell${NC} - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–ø–∞–Ω–µ–ª—å, –≤–∏–¥–∂–µ—Ç—ã, –º–µ–Ω—é, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —ç–∫—Ä–∞–Ω–∞)"
    echo -e "  ‚Ä¢ ${WHITE}–¶–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã${NC} - matugen-bin –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–º"
    echo -e "  ‚Ä¢ ${WHITE}–°–∫—Ä–∏–Ω—à–æ—Ç—ã${NC} - grim, satty"
    echo -e "  ‚Ä¢ ${WHITE}–ë—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞${NC} - cliphist, wl-clip-persist, wl-clipboard"
    echo ""

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ –≠—Ç–æ —Å–µ—Ä–¥—Ü–µ —Å–∏—Å—Ç–µ–º—ã - —Å–∞–º Hyprland –∏ –≤—Å–µ –µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã"
    echo -e "  ‚Ä¢ Quickshell - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Hyprland"
    echo -e "  ‚Ä¢ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏ —Ä–∞–±–æ—Ç—ã —Å –±—É—Ñ–µ—Ä–æ–º –æ–±–º–µ–Ω–∞"
    echo -e "  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤—ã—Ö —Å—Ö–µ–º –ø–æ–¥ –æ–±–æ–∏"
    echo ""

    echo -e "${YELLOW}${WARNING} –≠—Ç–æ –±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–π–º–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.${NC}"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Hyprland –∏ –µ–≥–æ —ç–∫–æ—Å–∏—Å—Ç–µ–º—É?"; then
        execute_command "yay -S --needed $hyprland_packages" \
            "Hyprland –∏ –µ–≥–æ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Hyprland!"
        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Hyprland –∏ –µ–≥–æ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã"
    fi

    install_user_environment
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
install_user_environment() {
    # –®–ê–ì 6.3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
    print_step_info "6.3" "–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–û–ï –û–ö–†–£–ñ–ï–ù–ò–ï" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Qt/GTK —Ç–µ–º, —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤, —Ñ–∞–π–ª–æ–≤–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞, –∞—É–¥–∏–æ—Å–∏—Å—Ç–µ–º—ã –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è."

    local environment_packages="fish gtk2 gtk4-layer-shell gvfs-afc gvfs-mtp gvfs-smb kitty kora-icon-theme kvantum lib32-pipewire nwg-look pavucontrol pipewire pipewire-alsa pipewire-pulse polkit-gnome qt5-quickcontrols2 qt5-wayland qt5ct qt6-base qt6-declarative qt6-svg qt6-wayland qt6ct sddm udisks2 udiskie vimix-cursors winbox wireplumber xdg-desktop-portal-gtk adw-gtk-theme"

    print_command "yay -S --needed $environment_packages"

    echo -e "${CYAN}${ARROW} –ß—Ç–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ ${WHITE}Qt –±–∏–±–ª–∏–æ—Ç–µ–∫–∏${NC} - qt5-quickcontrols2, qt5-wayland, qt5ct, qt6-base, qt6-declarative, qt6-svg, qt6-wayland, qt6ct"
    echo -e "  ‚Ä¢ ${WHITE}GTK –±–∏–±–ª–∏–æ—Ç–µ–∫–∏${NC} - gtk2, gtk4-layer-shell, xdg-desktop-portal-gtk"
    echo -e "  ‚Ä¢ ${WHITE}–¢–µ–º—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏${NC} - kvantum, nwg-look"
    echo -e "  ‚Ä¢ ${WHITE}–ò–∫–æ–Ω–∫–∏ –∏ –∫—É—Ä—Å–æ—Ä—ã${NC} - kora-icon-theme, vimix-cursors"
    echo -e "  ‚Ä¢ ${WHITE}–¢–µ—Ä–º–∏–Ω–∞–ª${NC} - kitty"
    echo -e "  ‚Ä¢ ${WHITE}–û–±–æ–ª–æ—á–∫–∞${NC} - fish"
    echo -e "  ‚Ä¢ ${WHITE}–ú–µ–Ω–µ–¥–∂–µ—Ä –≤—Ö–æ–¥–∞${NC} - sddm"
    echo -e "  ‚Ä¢ ${WHITE}Polkit –∞–≥–µ–Ω—Ç${NC} - polkit-gnome"
      echo -e "  ‚Ä¢ ${WHITE}–ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤${NC} - gvfs-afc, gvfs-mtp, gvfs-smb, udisks2, udiskie"
    echo -e "  ‚Ä¢ ${WHITE}–ê—É–¥–∏–æ—Å–∏—Å—Ç–µ–º–∞${NC} - lib32-pipewire, pavucontrol, pipewire, pipewire-alsa, pipewire-pulse, wireplumber"
    echo -e "  ‚Ä¢ ${WHITE}–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ${NC} - winbox"
    echo ""

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ –í—Å–µ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã - —Ç–µ–º—ã, —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä, –∞—É–¥–∏–æ"
    echo -e "  ‚Ä¢ Pipewire - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—É–¥–∏–æ—Å–∏—Å—Ç–µ–º–∞ (–∑–∞–º–µ–Ω–∞ pulseaudio)"
    echo -e "  ‚Ä¢ Thunar - –ª–µ–≥–∫–∏–π –∏ –±—ã—Å—Ç—Ä—ã–π —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä"
    echo -e "  ‚Ä¢ SDDM - –∫—Ä–∞—Å–∏–≤—ã–π —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É"
    echo ""

    echo -e "${YELLOW}${WARNING} –≠—Ç–æ –±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–π–º–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.${NC}"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ?"; then
        execute_command "yay -S --needed $environment_packages" \
            "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è!"
        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è"
    fi

    install_applications
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
install_applications() {
    # –®–ê–ì 7: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
    print_step_info "7" "–£–°–¢–ê–ù–û–í–ö–ê –†–ê–ë–û–ß–ò–• –ü–†–ò–õ–û–ñ–ï–ù–ò–ô" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ–ª–µ–∑–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ Hyprland."

    local work_packages="brave-bin filezilla ghostty gnome-calculator gnome-disk-utility gnome-font-viewer gvfs loupe lsd mcfly mission-center mpv ncdu obsidian onlyoffice-bin pandoc papers qbittorrent starship telegram-desktop thunar thunar-archive-plugin thunar-media-tags-plugin thunar-volman tumbler visual-studio-code-bin xarchiver zed zoxide"

    print_command "yay -S --needed $work_packages"

    echo -e "${CYAN}${ARROW} –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π :${NC}"
    echo -e "  ‚Ä¢ ${WHITE}ghostty${NC} - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—ã—Å—Ç—Ä—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª"
    echo -e "  ‚Ä¢ ${WHITE}starship${NC} - –∫—Ä–∞—Å–∏–≤–∞—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞"
    echo -e "  ‚Ä¢ ${WHITE}zed${NC} - –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä (–∫–∞–∫ –ë–ª–æ–∫–Ω–æ—Ç)"
    echo -e "  ‚Ä¢ ${WHITE}mpv${NC} - –º–æ—â–Ω—ã–π –≤–∏–¥–µ–æ–ø–ª–µ–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤"
    echo -e "  ‚Ä¢ ${WHITE}loupe${NC} - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π"
    echo -e "  ‚Ä¢ ${WHITE}onlyoffice-bin${NC} - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –æ—Ñ–∏—Å–Ω—ã–π –ø–∞–∫–µ—Ç (Word, Excel, PowerPoint)"
    echo -e "  ‚Ä¢ ${WHITE}xarchiver${NC} - –∞—Ä—Ö–∏–≤–∞—Ç–æ—Ä —Å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º"
    echo -e "  ‚Ä¢ ${WHITE}papers${NC} - –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤"
    echo -e "  ‚Ä¢ ${WHITE}qbittorrent${NC} - —Ç–æ—Ä—Ä–µ–Ω—Ç-–∫–ª–∏–µ–Ω—Ç"
    echo -e "  ‚Ä¢ ${WHITE}brave${NC} - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä"
    echo -e "  ‚Ä¢ ${WHITE}obsidian${NC} - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∑–∞–º–µ—Ç–æ–∫"
    echo -e "  ‚Ä¢ ${WHITE}visual-studio-code${NC} - –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞"
    echo -e "  ‚Ä¢ ${WHITE}telegram-desktop${NC} - –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä Telegram"
    echo -e "  ‚Ä¢ ${WHITE}mission-center${NC} - —Å–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä (–¥–∏—Å–ø–µ—Ç—á–µ—Ä –∑–∞–¥–∞—á)"
    echo -e "  ‚Ä¢ ${WHITE}thunar${NC} - —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏"
    echo -e "  ‚Ä¢ ${WHITE}gvfs, tumbler${NC} - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∏–Ω–∏–∞—Ç—é—Ä –∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
    echo ""

    echo -e "${YELLOW}${WARNING} –≠—Ç–æ –±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —ç—Ç–æ—Ç —à–∞–≥ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω—É–∂–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–∑–∂–µ.${NC}"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—á–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è?"; then
        execute_command "yay -S --needed $work_packages --noconfirm" \
            "–†–∞–±–æ—á–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π!"
        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
    fi

    install_codecs
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–¥–µ–∫–æ–≤
install_codecs() {
    # –®–ê–ì 8: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–¥–µ–∫–æ–≤
    print_step_info "8" "–ú–£–õ–¨–¢–ò–ú–ï–î–ò–ô–ù–´–ï –ö–û–î–ï–ö–ò" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–¥–µ–∫–æ–≤ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤–∏–¥–µ–æ, –∞—É–¥–∏–æ –∏ –¥—Ä—É–≥–∏—Ö –º—É–ª—å—Ç–∏–º–µ–¥–∏–π–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤."

    local codec_packages="a52dec faac faad2 ffmpeg flac gst-libav gst-plugin-pipewire gst-plugins-bad gst-plugins-base gst-plugins-good gst-plugins-ugly gstreamer jasper lame lib32-gst-plugins-good lib32-libva lib32-libvpx libdca libde265 libdv libdvdcss libdvdnav libdvdread libmad libmpeg2 libtheora libvorbis libvpx opencore-amr openjpeg2 speex wavpack x264 x265 xvidcore"

    print_command "yay -S --needed $codec_packages"

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –≤–∏–¥–µ–æ—Ñ–æ—Ä–º–∞—Ç–æ–≤ (MP4, AVI, MKV, –∏ —Ç.–¥.)"
    echo -e "  ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ DVD –∏ Blu-ray –¥–∏—Å–∫–æ–≤"
    echo -e "  ‚Ä¢ –ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ (MP3, FLAC, OGG)"
    echo -e "  ‚Ä¢ –†–∞–±–æ—Ç–∞ —Å –ø–æ—Ç–æ–∫–æ–≤—ã–º –≤–∏–¥–µ–æ (YouTube, Twitch)"
    echo -e "  ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–¥–µ–∫–æ–≤ (x264, x265)"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—É–ª—å—Ç–∏–º–µ–¥–∏–π–Ω—ã–µ –∫–æ–¥–µ–∫–∏?"; then
        execute_command "yay -S --needed $codec_packages --noconfirm" \
            "–ö–æ–¥–µ–∫–∏ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∫–æ–¥–µ–∫–æ–≤!"
        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º—É–ª—å—Ç–∏–º–µ–¥–∏–π–Ω—ã—Ö –∫–æ–¥–µ–∫–æ–≤"
    fi

    install_fonts_and_themes
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —à—Ä–∏—Ñ—Ç–æ–≤ –∏ —Ç–µ–º
install_fonts_and_themes() {
    # –®–ê–ì 9: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤, —Ç–µ–º, –∏–∫–æ–Ω–æ–∫ –∏ –æ–±–æ–µ–≤
    print_step_info "9" "–®–†–ò–§–¢–´ –ò –û–§–û–†–ú–õ–ï–ù–ò–ï" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—Ä–∞—Å–∏–≤—ã—Ö —à—Ä–∏—Ñ—Ç–æ–≤, —Ç–µ–º –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è, –∏–∫–æ–Ω–æ–∫ –∏ –æ–±–æ–µ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞."

    local font_packages="awesome-terminal-fonts inter-font nerd-fonts noto-fonts noto-fonts-emoji ttf-dejavu ttf-fira-code ttf-fira-sans ttf-font-awesome ttf-hack ttf-jetbrains-mono ttf-liberation ttf-material-design-icons ttf-ms-fonts ttf-opensans ttf-pt-sans ttf-roboto"

    print_command "yay -S --needed $font_packages"

    echo -e "${CYAN}${ARROW} –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:${NC}"
    echo -e "  ‚Ä¢ ${WHITE}–°–∏—Å—Ç–µ–º–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã${NC} - DejaVu, Liberation, Noto (–¥–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å–∏—Å—Ç–µ–º—ã)"
    echo -e "  ‚Ä¢ ${WHITE}–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç—Å–∫–∏–µ —à—Ä–∏—Ñ—Ç—ã${NC} - JetBrains Mono, Fira Code, Hack (–¥–ª—è –∫–æ–¥–∞)"
    echo -e "  ‚Ä¢ ${WHITE}–ò–∫–æ–Ω–æ—á–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã${NC} - Font Awesome, Material Design (–∫—Ä–∞—Å–∏–≤—ã–µ –∏–∫–æ–Ω–∫–∏)"
    echo -e "  ‚Ä¢ ${WHITE}Nerd Fonts${NC} - —à—Ä–∏—Ñ—Ç—ã —Å –∏–∫–æ–Ω–∫–∞–º–∏ –¥–ª—è —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ (—Å—Ç—Ä–µ–ª–∫–∏, —Å–∏–º–≤–æ–ª—ã Git)"
    echo -e "  ‚Ä¢ ${WHITE}–≠–º–æ–¥–∑–∏${NC} - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–º–∞–π–ª–∏–∫–æ–≤ –∏ —ç–º–æ–¥–∑–∏ –≤ —Å–∏—Å—Ç–µ–º–µ"
    echo ""

    echo -e "${YELLOW}${WARNING} –≠—Ç–æ –±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä —à—Ä–∏—Ñ—Ç–æ–≤. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–π–º–µ—Ç –≤—Ä–µ–º—è.${NC}"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —à—Ä–∏—Ñ—Ç—ã?"; then
        execute_command "yay -S --needed $font_packages --noconfirm" \
            "–®—Ä–∏—Ñ—Ç—ã —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —à—Ä–∏—Ñ—Ç–æ–≤!"
        
        echo -e "${CYAN}${ARROW} –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Material Symbols Rounded...${NC}"
        execute_command "sudo curl -L \"https://github.com/google/material-design-icons/raw/master/variablefont/MaterialSymbolsRounded%5BFILL%2CGRAD%2Copsz%2Cwght%5D.ttf\" -o /usr/share/fonts/MaterialSymbolsRounded.ttf" \
            "Material Symbols Rounded —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Material Symbols Rounded!"
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤"
    fi

    # –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
    echo -e "${CYAN}${ARROW} –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —à—Ä–∏—Ñ—Ç–æ–≤, —Ç–µ–º –∏ –∏–∫–æ–Ω–æ–∫...${NC}"

    if [ -d "fonts" ]; then
        echo -e "${BLUE}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
        echo -e "${BLUE}‚îÇ ${WHITE} 9.1 –ö–û–ü–ò–†–û–í–ê–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–• –®–†–ò–§–¢–û–í${NC}"
        echo -e "${BLUE}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
        echo ""
        echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —à—Ä–∏—Ñ—Ç—ã:${NC}"
        echo -e "  ‚Ä¢ ${WHITE}–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã${NC} - –∫—Ä–∞—Å–∏–≤—ã–µ —à—Ä–∏—Ñ—Ç—ã, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö"
        echo -e "  ‚Ä¢ ${WHITE}–£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ${NC} - –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ —Å–∏—Å—Ç–µ–º—ã"
        echo -e "  ‚Ä¢ ${WHITE}–°–∏—Å—Ç–µ–º–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å${NC} - —à—Ä–∏—Ñ—Ç—ã —Å—Ç–∞–Ω—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤–æ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö"
        echo -e "  ‚Ä¢ ${WHITE}–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ${NC} - —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç —à—Ä–∏—Ñ—Ç—ã"
        echo ""

        print_command "sudo cp -r fonts/* /usr/share/fonts/"

        if confirm_action "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —à—Ä–∏—Ñ—Ç—ã –∏–∑ –ø–∞–ø–∫–∏ fonts/?"; then
            execute_command "sudo cp -r fonts/* /usr/share/fonts/" \
                "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —à—Ä–∏—Ñ—Ç—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!" \
                "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —à—Ä–∏—Ñ—Ç–æ–≤!"
        else
            add_skipped_action "–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —à—Ä–∏—Ñ—Ç–æ–≤"
        fi
    fi

    if [ -d "themes" ]; then
        echo -e "${BLUE}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
        echo -e "${BLUE}‚îÇ ${WHITE} 9.2 –ö–û–ü–ò–†–û–í–ê–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–• –¢–ï–ú${NC}"
        echo -e "${BLUE}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
        echo ""
        echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–µ–º—ã:${NC}"
        echo -e "  ‚Ä¢ ${WHITE}–ö—Ä–∞—Å–∏–≤–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ${NC} - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã –¥–ª—è GTK –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –æ–∫–æ–Ω"
        echo -e "  ‚Ä¢ ${WHITE}–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞${NC} - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å—Ç–∏–ª—è —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞"
        echo -e "  ‚Ä¢ ${WHITE}–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏${NC} - —Ç–µ–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ Thunar, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö"
        echo -e "  ‚Ä¢ ${WHITE}–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è${NC} - —Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞"
        echo ""

        print_command "sudo cp -r themes/* /usr/share/themes/"

        if confirm_action "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–µ–º—ã –∏–∑ –ø–∞–ø–∫–∏ themes/?"; then
            execute_command "sudo cp -r themes/* /usr/share/themes/" \
                "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ç–µ–º—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!" \
                "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ç–µ–º!"
        else
            add_skipped_action "–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–µ–º"
        fi
    fi

    if [ -d "icons" ]; then
        echo -e "${BLUE}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
        echo -e "${BLUE}‚îÇ ${WHITE} 9.3 –ö–û–ü–ò–†–û–í–ê–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–• –ò–ö–û–ù–û–ö${NC}"
        echo -e "${BLUE}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
        echo ""
        echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–∫–æ–Ω–∫–∏:${NC}"
        echo -e "  ‚Ä¢ ${WHITE}–ö—Ä–∞—Å–∏–≤—ã–µ –∏–∫–æ–Ω–∫–∏${NC} - –Ω–∞–±–æ—Ä –∏–∫–æ–Ω–æ–∫ –¥–ª—è —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
        echo -e "  ‚Ä¢ ${WHITE}–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è${NC} - –∏–∫–æ–Ω–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ —Ñ–∞–π–ª–æ–≤–æ–º –º–µ–Ω–µ–¥–∂–µ—Ä–µ –∏ –º–µ–Ω—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
        echo ""

        print_command "sudo cp -r icons/* /usr/share/icons/"

        if confirm_action "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–∫–æ–Ω–∫–∏ –∏–∑ –ø–∞–ø–∫–∏ icons/?"; then
            execute_command "sudo cp -r icons/* /usr/share/icons/" \
                "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–∫–æ–Ω–∫–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!" \
                "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–∫–æ–Ω–æ–∫!"
        else
            add_skipped_action "–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏–∫–æ–Ω–æ–∫"
        fi
    fi

    if [ -d "–æ–±–æ–∏" ]; then
        echo -e "${BLUE}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
        echo -e "${BLUE}‚îÇ ${WHITE} 9.4 –ö–û–ü–ò–†–û–í–ê–ù–ò–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–ò–• –û–ë–û–ï–í${NC}"
        echo -e "${BLUE}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
        echo ""
        echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ–±–æ–∏:${NC}"
        echo -e "  ‚Ä¢ ${WHITE}–ö—Ä–∞—Å–∏–≤—ã–µ –æ–±–æ–∏${NC} - –∫–æ–ª–ª–µ–∫—Ü–∏—è –æ–±–æ–µ–≤ –¥–ª—è —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞"
        echo -e "  ‚Ä¢ ${WHITE}–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è${NC} - —Å–æ–∑–¥–∞–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞"
        echo -e "  ‚Ä¢ ${WHITE}–£–¥–æ–±–Ω—ã–π –¥–æ—Å—Ç—É–ø${NC} - –æ–±–æ–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–∞–ø–∫–µ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"
        echo -e "  ‚Ä¢ ${WHITE}–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å waypaper${NC} - –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è —Å–º–µ–Ω—ã –æ–±–æ–µ–≤ –Ω–∞–π–¥–µ—Ç –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"
        echo ""

        print_command "mkdir -p ~/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è && cp -r –æ–±–æ–∏ ~/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/"

        if confirm_action "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ–±–æ–∏ –∏–∑ –ø–∞–ø–∫–∏ –æ–±–æ–∏/?"; then
            execute_command "mkdir -p ~/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è && cp -r –æ–±–æ–∏ ~/–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/" \
                "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ–±–æ–∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!" \
                "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –æ–±–æ–µ–≤!"
        else
            add_skipped_action "–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ–±–æ–µ–≤"
        fi
    fi


    if confirm_action "–û–±–Ω–æ–≤–∏—Ç—å –∫—ç—à —à—Ä–∏—Ñ—Ç–æ–≤?"; then
        execute_command "sudo fc-cache -f" \
            "–ö—ç—à —à—Ä–∏—Ñ—Ç–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫—ç—à–∞ —à—Ä–∏—Ñ—Ç–æ–≤!"
    else
        add_skipped_action "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ —à—Ä–∏—Ñ—Ç–æ–≤"
    fi

    install_fish_and_settings
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ fish –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
install_fish_and_settings() {
    # –®–ê–ì 10: –°–º–µ–Ω–∞ –æ–±–æ–ª–æ—á–∫–∏ –Ω–∞ Fish
    print_step_info "10" "–ù–ê–°–¢–†–û–ô–ö–ê –û–ë–û–õ–û–ß–ö–ò FISH" \
        "–°–º–µ–Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ bash –Ω–∞ –±–æ–ª–µ–µ —É–¥–æ–±–Ω—É—é –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—É—é Fish."

    print_command "chsh -s \$(which fish)"

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ Fish –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ –∫–æ—Ä–æ–±–∫–∏ (–Ω–∞–∂–∏–º–∞–µ—Ç–µ Tab - –≤–∏–¥–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã)"
    echo -e "  ‚Ä¢ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∫–æ–º–∞–Ω–¥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–∫—Ä–∞—Å–Ω—ã–µ = –æ—à–∏–±–∫–∞, –∑–µ–ª–µ–Ω—ã–µ = –û–ö)"
    echo -e "  ‚Ä¢ –ë–æ–ª–µ–µ —É–¥–æ–±–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ (—Å—Ç—Ä–µ–ª–∫–∏ –≤–≤–µ—Ä—Ö/–≤–Ω–∏–∑ –¥–ª—è –ø–æ–∏—Å–∫–∞)"
    echo -e "  ‚Ä¢ –õ—É—á—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏"
    echo -e "  ‚Ä¢ –ë–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö"
    echo ""

    if confirm_action "–°–º–µ–Ω–∏—Ç—å –æ–±–æ–ª–æ—á–∫—É –Ω–∞ Fish?"; then
        execute_command "chsh -s \$(which fish)" \
            "–û–±–æ–ª–æ—á–∫–∞ —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞ Fish!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ –æ–±–æ–ª–æ—á–∫–∏!"

        echo -e "${CYAN}${ARROW} –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è Fish...${NC}"
        execute_command "fish -c 'set -U fish_greeting'" \
            "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ Fish –æ—Ç–∫–ª—é—á–µ–Ω–æ!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Fish!"
        pause_for_user
    else
        add_skipped_action "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±–æ–ª–æ—á–∫–∏ Fish"
    fi

    # –®–ê–ì 11: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É input
    print_step_info "11" "–ù–ê–°–¢–†–û–ô–ö–ê –ü–†–ê–í –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø" \
        "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É input –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã Hyprland."

    print_command "sudo usermod -a -G input \"\$(whoami)\""

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ Linux –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥—Ä—É–ø–ø—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞"
    echo -e "  ‚Ä¢ –ì—Ä—É–ø–ø–∞ 'input' –¥–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º –≤–≤–æ–¥–∞ (–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, –º—ã—à—å, —Ç–∞—á–ø–∞–¥)"
    echo -e "  ‚Ä¢ Hyprland –Ω—É–∂–Ω—ã —ç—Ç–∏ –ø—Ä–∞–≤–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–∏—Ñ–µ—Ä–∏–µ–π"
    echo -e "  ‚Ä¢ –ë–µ–∑ —ç—Ç–æ–≥–æ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫—É—Ä—Å–æ—Ä–æ–º –∏–ª–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π"
    echo -e "  ‚Ä¢ –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞"
    echo ""

    if confirm_action "–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É input?"; then
        execute_command "sudo usermod -a -G input \"\$(whoami)\"" \
            "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –≥—Ä—É–ø–ø—É input!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –≥—Ä—É–ø–ø—É!"
        pause_for_user
    else
        add_skipped_action "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
    fi

    # –®–ê–ì 12: –í–∫–ª—é—á–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ SSD
    print_step_info "12" "–í–ö–õ–Æ–ß–ï–ù–ò–ï –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–ò SSD" \
        "–í–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ SSD –¥–ª—è –ø—Ä–æ–¥–ª–µ–Ω–∏—è —Å—Ä–æ–∫–∞ —Å–ª—É–∂–±—ã –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏."

    print_command "sudo systemctl enable fstrim.timer"

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ SSD –¥–∏—Å–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ-–¥—Ä—É–≥–æ–º—É, —á–µ–º –æ–±—ã—á–Ω—ã–µ –∂–µ—Å—Ç–∫–∏–µ –¥–∏—Å–∫–∏"
    echo -e "  ‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –±–ª–æ–∫–æ–≤ SSD –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é"
    echo -e "  ‚Ä¢ –ü–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–ø–∏—Å–∏ (—Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ)"
    echo -e "  ‚Ä¢ –ü—Ä–æ–¥–ª–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ —Å–ª—É–∂–±—ã SSD (–¥–∏—Å–∫ –ø—Ä–æ—Å–ª—É–∂–∏—Ç –¥–æ–ª—å—à–µ)"
    echo -e "  ‚Ä¢ –≠—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—Å–µ–º–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è–º–∏ SSD"
    echo ""

    if confirm_action "–í–∫–ª—é—á–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é SSD?"; then
        execute_command "sudo systemctl enable fstrim.timer" \
            "–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SSD —É—Å–ø–µ—à–Ω–æ –≤–∫–ª—é—á–µ–Ω–∞!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ SSD!"
        pause_for_user
    else
        add_skipped_action "–í–∫–ª—é—á–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ SSD"
    fi

    install_bluetooth
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Bluetooth
install_bluetooth() {
    # –®–ê–ì 13: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Bluetooth
    print_step_info "13" "–ù–ê–°–¢–†–û–ô–ö–ê BLUETOOTH" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Bluetooth —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏."

    local bluetooth_packages="bluez blueman bluez-utils"

    print_command "yay -S --needed $bluetooth_packages"

    echo -e "${CYAN}${ARROW} –ß—Ç–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ ${WHITE}bluez${NC} - –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–µ–∫ Bluetooth –¥–ª—è Linux"
    echo -e "  ‚Ä¢ ${WHITE}blueman${NC} - –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä Bluetooth"
    echo -e "  ‚Ä¢ ${WHITE}bluez-utils${NC} - —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Bluetooth"
    echo ""

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Bluetooth –Ω–∞—É—à–Ω–∏–∫–æ–≤, –∫–ª–∞–≤–∏–∞—Ç—É—Ä, –º—ã—à–µ–π"
    echo -e "  ‚Ä¢ –ü–µ—Ä–µ–¥–∞—á–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ Bluetooth"
    echo -e "  ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Bluetooth —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ —á–µ—Ä–µ–∑ GUI"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Bluetooth?"; then
        execute_command "yay -S --needed $bluetooth_packages" \
            "Bluetooth —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Bluetooth!"

        echo -e "${CYAN}${ARROW} –í–∫–ª—é—á–µ–Ω–∏–µ —Å–ª—É–∂–±—ã Bluetooth...${NC}"
        execute_command "sudo systemctl enable bluetooth" \
            "–°–ª—É–∂–±–∞ Bluetooth –≤–∫–ª—é—á–µ–Ω–∞!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —Å–ª—É–∂–±—ã Bluetooth!"

        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Bluetooth"
    fi

    install_sddm_config
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SDDM
install_sddm_config() {
    # –®–ê–ì 14: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SDDM
    print_step_info "14" "–ù–ê–°–¢–†–û–ô–ö–ê SDDM" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫—Ä–∞—Å–∏–≤—ã—Ö —Ç–µ–º —ç–∫—Ä–∞–Ω–∞ –≤—Ö–æ–¥–∞ –≥–¥–µ –≤—ã –≤–≤–æ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å"

    echo -e "${CYAN}${ARROW} –ß—Ç–æ –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ 25+ –∫—Ä–∞—Å–∏–≤—ã—Ö —Ç–µ–º –¥–ª—è —ç–∫—Ä–∞–Ω–∞ –≤—Ö–æ–¥–∞ –Ω–∞ –≤—ã–±–æ—Ä –∏–ª–∏ –≤—Å–µ —Å—Ä–∞–∑—É"
    echo -e "  ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Wayland –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã"
    echo -e "  ‚Ä¢ –ö–∞—Å—Ç–æ–º–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã –∏ –∏–∫–æ–Ω–∫–∏"
    echo -e "  ‚Ä¢ –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ–Ω—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã"
    echo -e "  ‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è —ç—Ç–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä—ã"
    echo ""

    echo -e "${YELLOW}${WARNING} –î–ª—è —ç—Ç–æ–≥–æ –±—É–¥–µ—Ç —Å–∫–∞—á–∞–Ω –¥—Ä—É–≥–æ–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ–¥–µ—Ç –≤–∞—Å —á–µ—Ä–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫—É —Ç–µ–º—ã —ç–∫—Ä–∞–Ω–∞ –≤—Ö–æ–¥–∞. ${NC}"

    echo -e "${YELLOW}${WARNING} –ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π SDDM –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç —à–∞–≥ ${NC}"

    echo -e "${YELLOW}${WARNING} –í—ã –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—Å—è —Å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π —Ç–µ–º –ø–æ –∞–¥—Ä–µ—Å—É - https://github.com/Sm1tee/sddm-theme ${NC}"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–º—ã SDDM?"; then
        echo -e "${BLUE}${INFO} –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ —Ç–µ–º SDDM...${NC}"

        # –°–∫–∞—á–∏–≤–∞–µ–º —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏
        local sddm_installer="/tmp/sddm_install_$$.sh"
        if curl -sSL https://raw.githubusercontent.com/Sm1tee/sddm-theme/main/install.sh -o "$sddm_installer"; then
            chmod +x "$sddm_installer"
            echo -e "${BLUE}${INFO} –ó–∞–ø—É—Å–∫ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ —Ç–µ–º SDDM...${NC}"

            # –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∫—Ä–∏–ø—Ç –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
            if "$sddm_installer"; then
                echo -e "${GREEN}${CHECKMARK} –¢–µ–º—ã SDDM —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!${NC}"
            else
                echo -e "${YELLOW}${WARNING} –í–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Ç–µ–º SDDM${NC}"
                echo -e "${BLUE}${INFO} –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤...${NC}"
            fi

            # –£–¥–∞–ª—è–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
            rm -f "$sddm_installer"
        else
            echo -e "${RED}${CROSS} –û—à–∏–±–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ SDDM${NC}"
            echo -e "${BLUE}${INFO} –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤...${NC}"
        fi
        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º SDDM"
        echo -e "${YELLOW}${WARNING} –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–º SDDM –ø—Ä–æ–ø—É—â–µ–Ω–∞${NC}"
    fi

    # –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–≥—Ä–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
    echo -e "${BLUE}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
    echo -e "${BLUE}‚îÇ ${WHITE}–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û: –ü–ê–ö–ï–¢–´ –î–õ–Ø –ò–ì–†${NC}"
    echo -e "${BLUE}‚îÇ${NC}"
    echo -e "${BLUE}‚îÇ ${CYAN}–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–æ–≤, –±–∏–±–ª–∏–æ—Ç–µ–∫ Wine –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –¥–ª—è –∏–≥—Ä${NC}"
    echo -e "${BLUE}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
    echo ""

    echo -e "${CYAN}${ARROW} –ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è:${NC}"
    echo -e "  ‚Ä¢ ${WHITE}–ò–≥—Ä–æ–≤—ã–µ –¥—Ä–∞–π–≤–µ—Ä—ã${NC} - Mesa, Vulkan, DXVK –¥–ª—è AMD –≤–∏–¥–µ–æ–∫–∞—Ä—Ç"
    echo -e "  ‚Ä¢ ${WHITE}Wine –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏${NC} - –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Windows-–∏–≥—Ä"
    echo -e "  ‚Ä¢ ${WHITE}–°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏${NC} - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —è–¥—Ä–∞ –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"
    echo -e "  ‚Ä¢ ${WHITE}–ò–≥—Ä–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã${NC} - MangoHUD, GameMode"
    echo ""

    echo -e "${YELLOW}${WARNING} –ü—Ä–∏ —Å–æ–≥–ª–∞—Å–∏–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è - –≤—ã –ø–æ–ø–∞–¥–µ—Ç–µ –≤ –º–µ–Ω—é —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –∏–≥—Ä${NC}"
    echo ""

    if confirm_action "–•–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è –∏–≥—Ä?"; then
        install_gaming_packages
    fi

    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –ø–µ—á–∞—Ç–∏
    install_printing_packages

    final_configuration
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–≥—Ä–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
install_gaming_packages() {
    print_step_info "15" "–ù–ê–°–¢–†–û–ô–ö–ê –î–õ–Ø –ò–ì–†" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏–≥—Ä—ã –Ω–∞ Linux."

    # –ò–≥—Ä–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã
    print_step_info "15.1" "–ò–ì–†–û–í–´–ï –ü–ê–ö–ï–¢–´" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–æ–≤, –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏–≥—Ä—ã –Ω–∞ Linux —Å AMD –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–æ–π."

    local gaming_packages="mesa lib32-mesa vkd3d lib32-vkd3d xf86-video-amdgpu vulkan-radeon lib32-vulkan-radeon libva-mesa-driver lib32-libva-mesa-driver mesa-vdpau lib32-mesa-vdpau vulkan-mesa-layers ttf-liberation goverlay mangohud gamemode glfw protontricks gamescope dxvk-bin"

    print_command "yay -S --needed $gaming_packages"

    echo -e "${CYAN}${ARROW} –ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç –¥–ª—è –∏–≥—Ä (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ ):${NC}"
    echo -e "  ‚Ä¢ ${WHITE}mesa/vulkan-radeon${NC} - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –¥—Ä–∞–π–≤–µ—Ä—ã AMD"
    echo -e "  ‚Ä¢ ${WHITE}lib32-*${NC} - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 32-–±–∏—Ç–Ω—ã—Ö –∏–≥—Ä (—Å—Ç–∞—Ä—ã–µ –∏–≥—Ä—ã)"
    echo -e "  ‚Ä¢ ${WHITE}mangohud${NC} - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ FPS –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ –∏–≥—Ä–∞—Ö"
    echo -e "  ‚Ä¢ ${WHITE}gamemode${NC} - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –¥–ª—è –∏–≥—Ä"
    echo -e "  ‚Ä¢ ${WHITE}dxvk${NC} - –ø–µ—Ä–µ–≤–æ–¥ DirectX –≤ Vulkan –¥–ª—è –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"
    echo ""

    echo -e "${RED}${WARNING} –í–ù–ò–ú–ê–ù–ò–ï! –≠—Ç–∏ –ø–∞–∫–µ—Ç—ã –¢–û–õ–¨–ö–û –¥–ª—è AMD –≤–∏–¥–µ–æ–∫–∞—Ä—Ç!${NC}"
    echo -e "${YELLOW}${WARNING} –î–ª—è NVIDIA –∏–ª–∏ Intel –≤–∏–¥–µ–æ–∫–∞—Ä—Ç –Ω—É–∂–Ω—ã –¥—Ä—É–≥–∏–µ –¥—Ä–∞–π–≤–µ—Ä—ã.${NC}"
    echo -e "${YELLOW}${WARNING} –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç—Ç–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ –Ω–∞ —Å–∏—Å—Ç–µ–º—É —Å NVIDIA –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã.${NC}"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–≥—Ä–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã?"; then
        execute_command "yay -S --needed $gaming_packages --noconfirm" \
            "–ò–≥—Ä–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏–≥—Ä–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤!"
        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–≥—Ä–æ–≤—ã—Ö –ø–∞–∫–µ—Ç–æ–≤"
    fi

    # Wine –ø–∞–∫–µ—Ç—ã
    print_step_info "15.2" "WINE –î–õ–Ø WINDOWS-–ò–ì–†" \
        "Wine –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å Windows-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏–≥—Ä—ã –Ω–∞ Linux. –≠—Ç–æ –±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏."

    local wine_packages="wine giflib lib32-giflib libpng lib32-libpng libldap lib32-libldap gnutls lib32-gnutls mpg123 lib32-mpg123 openal lib32-openal v4l-utils lib32-v4l-utils libpulse lib32-libpulse libgpg-error lib32-libgpg-error alsa-plugins lib32-alsa-plugins alsa-lib lib32-alsa-lib libjpeg-turbo lib32-libjpeg-turbo sqlite lib32-sqlite libxcomposite lib32-libxcomposite libxinerama lib32-libgcrypt libgcrypt lib32-libxinerama ncurses lib32-ncurses ocl-icd lib32-ocl-icd libxslt lib32-libxslt libva lib32-libva gtk3 lib32-gtk3 gst-plugins-base-libs lib32-gst-plugins-base-libs vulkan-icd-loader lib32-vulkan-icd-loader lib32-opencl-icd-loader wine-gecko wine-mono winetricks vulkan-tools zenity fontconfig lib32-fontconfig wqy-zenhei"

    print_command "yay -S --needed $wine_packages"

    echo -e "${CYAN}${ARROW} –ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ ):${NC}"
    echo -e "  ‚Ä¢ ${WHITE}wine${NC} - –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Windows-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
    echo -e "  ‚Ä¢ ${WHITE}winetricks${NC} - —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Wine"
    echo -e "  ‚Ä¢ ${WHITE}lib32-*${NC} - 32-–±–∏—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –∏–≥—Ä"
    echo -e "  ‚Ä¢ ${WHITE}vulkan/opengl${NC} - –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –¥—Ä–∞–π–≤–µ—Ä—ã –¥–ª—è –∏–≥—Ä"
    echo -e "  ‚Ä¢ ${WHITE}audio –±–∏–±–ª–∏–æ—Ç–µ–∫–∏${NC} - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–≤—É–∫–∞ –≤ –∏–≥—Ä–∞—Ö"
    echo ""

    echo -e "${YELLOW}${WARNING} –≠—Ç–æ –±–æ–ª—å—à–æ–π –Ω–∞–±–æ—Ä –ø–∞–∫–µ—Ç–æ–≤. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–π–º—ë—Ç –≤—Ä–µ–º–µ–Ω—è.${NC}"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã Wine –¥–ª—è Windows-–∏–≥—Ä?"; then
        execute_command "yay -S --needed $wine_packages --noconfirm" \
            "–ü–∞–∫–µ—Ç—ã Wine —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ Wine!"
        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ Wine"
    fi

    # –°–∏—Å—Ç–µ–º–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
    print_step_info "15.3" "–£–í–ï–õ–ò–ß–ï–ù–ò–ï –õ–ò–ú–ò–¢–ê –ü–ê–ú–Ø–¢–ò –î–õ–Ø –ò–ì–†" \
        "–£–≤–µ–ª–∏—á–µ–Ω–∏–µ vm.max_map_count –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–≥—Ä, —Ç—Ä–µ–±—É—é—â–∏—Ö –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–∞–º—è—Ç–∏."

    echo -e "${CYAN}${ARROW} –ß—Ç–æ –±—É–¥–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ ${WHITE}vm.max_map_count = 2147483642${NC} - —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ mmap –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–≥—Ä"
    echo ""

    echo -e "${CYAN}${ARROW} –ó–∞—á–µ–º –Ω—É–∂–Ω–æ:${NC}"
    echo -e "  ‚Ä¢ –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–≥—Ä (Star Citizen, Elden Ring –∏ –¥—Ä.)"
    echo -e "  ‚Ä¢ –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –º–Ω–æ–≥–∏—Ö –∏–≥—Ä –Ω–∞ Proton/Wine"
    echo -e "  ‚Ä¢ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ª–∏–º–∏—Ç —Å–ª–∏—à–∫–æ–º –º–∞–ª –¥–ª—è —Ç—Ä–µ–±–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–≥—Ä"
    echo ""

    print_command "echo 'vm.max_map_count = 2147483642' | sudo tee /etc/sysctl.d/99-max-map-count.conf"

    echo -e "${YELLOW}${WARNING} –≠—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞ –∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.${NC}"
    echo ""

    if confirm_action "–£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ –¥–ª—è –∏–≥—Ä?"; then
        echo 'vm.max_map_count = 2147483642' | sudo tee /etc/sysctl.d/99-max-map-count.conf > /dev/null

        execute_command "sudo sysctl --system" \
            "–õ–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ —É—Å–ø–µ—à–Ω–æ —É–≤–µ–ª–∏—á–µ–Ω!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏!"

        echo -e "${CYAN}${ARROW} –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ vm.max_map_count:${NC}"
        sysctl vm.max_map_count
        pause_for_user
    else
        add_skipped_action "–£–≤–µ–ª–∏—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –ø–∞–º—è—Ç–∏ –¥–ª—è –∏–≥—Ä"
    fi
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ –ø–µ—á–∞—Ç–∏
install_printing_packages() {
    print_step_info "16" "–ù–ê–°–¢–†–û–ô–ö–ê –ü–ï–ß–ê–¢–ò" \
        "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏ –∏ —Å–∫–∞–Ω–µ—Ä–∞–º–∏."

    local printing_packages="cups cups-filters cups-pdf libcups libcupsfilters splix python-pycups lib32-libcups simple-scan hplip hplip-plugin print-manager"

    print_command "yay -S --needed $printing_packages"

    echo -e "${CYAN}${ARROW} –ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç (–æ–±—ä—è—Å–Ω–µ–Ω–∏–µ ):${NC}"
    echo -e "  ‚Ä¢ ${WHITE}cups${NC} - –æ—Å–Ω–æ–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—á–∞—Ç–∏ –¥–ª—è Linux"
    echo -e "  ‚Ä¢ ${WHITE}hplip${NC} - –¥—Ä–∞–π–≤–µ—Ä—ã –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ HP"
    echo -e "  ‚Ä¢ ${WHITE}simple-scan${NC} - –ø—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"
    echo -e "  ‚Ä¢ ${WHITE}print-manager${NC} - –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏"
    echo ""

    if confirm_action "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã –¥–ª—è –ø–µ—á–∞—Ç–∏?"; then
        execute_command "yay -S --needed $printing_packages" \
            "–ü–∞–∫–µ—Ç—ã –ø–µ—á–∞—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø–∞–∫–µ—Ç–æ–≤ –ø–µ—á–∞—Ç–∏!"

        execute_command "sudo systemctl enable cups" \
            "–°–ª—É–∂–±–∞ –ø–µ—á–∞—Ç–∏ –≤–∫–ª—é—á–µ–Ω–∞!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —Å–ª—É–∂–±—ã –ø–µ—á–∞—Ç–∏!"
        pause_for_user
    else
        add_skipped_action "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –ø–µ—á–∞—Ç–∏"
    fi
}

# –§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
final_configuration() {
    print_step_info "17" "–§–ò–ù–ê–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê" \
        "–ó–∞–≤–µ—Ä—à–∞—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤."

    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Git
    echo -e "${BLUE}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
    echo -e "${BLUE}‚îÇ ${WHITE} 17.1 –ù–ê–°–¢–†–û–ô–ö–ê GIT${NC}"
    echo -e "${BLUE}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
    echo ""
    echo -e "${CYAN}${ARROW} –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Git (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π):${NC}"
    echo -e "  ‚Ä¢ ${WHITE}–ß—Ç–æ —ç—Ç–æ${NC} - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –¥–ª—è GitHub/GitLab"
    echo -e "  ‚Ä¢ ${WHITE}–ó–∞—á–µ–º –Ω—É–∂–Ω–æ${NC} - —á—Ç–æ–±—ã –Ω–µ –≤–≤–æ–¥–∏—Ç—å –ø–∞—Ä–æ–ª—å –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ git push/pull"
    echo -e "  ‚Ä¢ ${WHITE}–ö–æ–º–∞–Ω–¥–∞${NC} - git config --global credential.helper store"
    echo ""

    if confirm_action "–í–∫–ª—é—á–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π Git?"; then
        execute_command "git config --global credential.helper store" \
            "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π Git –≤–∫–ª—é—á–µ–Ω–æ!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Git!"
    else
        add_skipped_action "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π Git"
    fi

    # –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
    if [ -d ".config" ]; then
        echo -e "${BLUE}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
        echo -e "${BLUE}‚îÇ ${WHITE} 17.2 –ö–û–ü–ò–†–û–í–ê–ù–ò–ï –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–û–ù–ù–´–• –§–ê–ô–õ–û–í${NC}"
        echo -e "${BLUE}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
        echo ""
        echo -e "${CYAN}${ARROW} –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:${NC}"
        echo -e "  ‚Ä¢ ${WHITE}–ß—Ç–æ —ç—Ç–æ${NC} - –≥–æ—Ç–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Hyprland, —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤"
        echo -e "  ‚Ä¢ ${WHITE}–ó–∞—á–µ–º –Ω—É–∂–Ω–æ${NC} - —á—Ç–æ–±—ã —Å–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–∑—É —Ä–∞–±–æ—Ç–∞–ª–∞ –∫—Ä–∞—Å–∏–≤–æ –∏ —É–¥–æ–±–Ω–æ"
        echo -e "  ‚Ä¢ ${WHITE}–û—Ç–∫—É–¥–∞${NC} - –∏–∑ –ø–∞–ø–∫–∏ .config –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏"
        echo -e "  ‚Ä¢ ${WHITE}–ö—É–¥–∞${NC} - –≤ ~/.config (–¥–æ–º–∞—à–Ω—è—è –ø–∞–ø–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)"
        echo ""

        if confirm_action "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ .config/?"; then
            execute_command "cp -r .config/* ~/.config/" \
                "–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã!" \
                "–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–Ω—Ñ–∏–≥–æ–≤!"
        else
            add_skipped_action "–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤"
        fi
    fi

    # –í–∫–ª—é—á–µ–Ω–∏–µ —Å–ª—É–∂–±
    echo -e "${BLUE}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
    echo -e "${BLUE}‚îÇ ${WHITE} 17.3 –í–ö–õ–Æ–ß–ï–ù–ò–ï –°–ò–°–¢–ï–ú–ù–´–• –°–õ–£–ñ–ë${NC}"
    echo -e "${BLUE}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
    echo ""
    echo -e "${CYAN}${ARROW} –í–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Å–ª—É–∂–±...${NC}"
    echo ""

    # SDDM - –º–µ–Ω–µ–¥–∂–µ—Ä –¥–∏—Å–ø–ª–µ—è
    echo -e "${CYAN}${ARROW} –°–ª—É–∂–±–∞ SDDM (–º–µ–Ω–µ–¥–∂–µ—Ä –¥–∏—Å–ø–ª–µ—è):${NC}"
    echo -e "  ‚Ä¢ ${WHITE}–ß—Ç–æ —ç—Ç–æ${NC} - —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É"
    echo -e "  ‚Ä¢ ${WHITE}–ó–∞—á–µ–º –Ω—É–∂–Ω–æ${NC} - –¥–ª—è –≤—Ö–æ–¥–∞ –≤ Hyprland –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏"
    echo -e "  ‚Ä¢ ${WHITE}–ö–æ–º–∞–Ω–¥–∞${NC} - sudo systemctl enable sddm"
    echo ""

    if confirm_action "–í–∫–ª—é—á–∏—Ç—å —Å–ª—É–∂–±—É SDDM (—ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞)?"; then
        execute_command "sudo systemctl enable sddm" \
            "–°–ª—É–∂–±–∞ SDDM –≤–∫–ª—é—á–µ–Ω–∞!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ SDDM!"
    else
        add_skipped_action "–í–∫–ª—é—á–µ–Ω–∏–µ —Å–ª—É–∂–±—ã SDDM"
    fi

    # NetworkManager - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç—å—é
    echo -e "${CYAN}${ARROW} –°–ª—É–∂–±–∞ NetworkManager (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç—å—é):${NC}"
    echo -e "  ‚Ä¢ ${WHITE}–ß—Ç–æ —ç—Ç–æ${NC} - —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã–º–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏"
    echo -e "  ‚Ä¢ ${WHITE}–ó–∞—á–µ–º –Ω—É–∂–Ω–æ${NC} - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Wi-Fi –∏ Ethernet"
    echo -e "  ‚Ä¢ ${WHITE}–ö–æ–º–∞–Ω–¥–∞${NC} - sudo systemctl enable NetworkManager"
    echo ""

    if confirm_action "–í–∫–ª—é—á–∏—Ç—å —Å–ª—É–∂–±—É NetworkManager (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç—å—é)?"; then
        execute_command "sudo systemctl enable NetworkManager" \
            "–°–ª—É–∂–±–∞ NetworkManager –≤–∫–ª—é—á–µ–Ω–∞!" \
            "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ NetworkManager!"
    else
        add_skipped_action "–í–∫–ª—é—á–µ–Ω–∏–µ —Å–ª—É–∂–±—ã NetworkManager"
    fi

    # –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    print_header
    echo -e "${GREEN}${FIRE} –£–°–¢–ê–ù–û–í–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê! ${FIRE}${NC}"
    echo ""
    show_final_report
    echo ""
}

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –æ—Ç—á–µ—Ç–∞
show_final_report() {
    echo -e "${CYAN}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
    echo -e "${CYAN}‚îÇ ${WHITE}–ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢ –£–°–¢–ê–ù–û–í–ö–ò${NC}"
    echo -e "${CYAN}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
    echo ""

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    if [ ${#COMPLETED_ACTIONS[@]} -gt 0 ]; then
        echo -e "${GREEN}${CHECKMARK} –£–°–ü–ï–®–ù–û –í–´–ü–û–õ–ù–ï–ù–û (${#COMPLETED_ACTIONS[@]}):${NC}"
        for action in "${COMPLETED_ACTIONS[@]}"; do
            echo -e "  ${GREEN}‚Ä¢${NC} $action"
        done
        echo ""
    fi

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    if [ ${#SKIPPED_ACTIONS[@]} -gt 0 ]; then
        echo -e "${YELLOW}${WARNING} –ü–†–û–ü–£–©–ï–ù–û (${#SKIPPED_ACTIONS[@]}):${NC}"
        for action in "${SKIPPED_ACTIONS[@]}"; do
            echo -e "  ${YELLOW}‚Ä¢${NC} $action"
        done
        echo ""
    fi

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω–µ—É–¥–∞—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    if [ ${#FAILED_ACTIONS[@]} -gt 0 ]; then
        echo -e "${RED}${CROSS} –û–®–ò–ë–ö–ò (${#FAILED_ACTIONS[@]}):${NC}"
        for action in "${FAILED_ACTIONS[@]}"; do
            echo -e "  ${RED}‚Ä¢${NC} $action"
        done
        echo ""
    fi

    # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    echo -e "${CYAN}‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ${NC}"
    echo -e "${CYAN}‚îÇ ${YELLOW}${WARNING} –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:${NC}"
    echo -e "${CYAN}‚îÇ${NC}"
    echo -e "${CYAN}‚îÇ ${WHITE}1. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π${NC}"
    echo -e "${CYAN}‚îÇ ${WHITE}2. –í—ã–±–µ—Ä–∏—Ç–µ Hyprland –≤ –º–µ–Ω–µ–¥–∂–µ—Ä–µ –≤—Ö–æ–¥–∞${NC}"
    echo -e "${CYAN}‚îÇ ${WHITE}3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤${NC}"
    if [ ${#FAILED_ACTIONS[@]} -gt 0 ]; then
        echo -e "${CYAN}‚îÇ ${WHITE}4. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏${NC}"
    fi
    echo -e "${CYAN}‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ${NC}"
}

# –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
main "$@"
